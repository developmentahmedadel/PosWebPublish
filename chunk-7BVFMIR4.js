import{a as z,b as H}from"./chunk-KOJPIKRQ.js";import"./chunk-WL6N6SLT.js";import"./chunk-LNYZIAUP.js";import"./chunk-HYE6JRVA.js";import{d as k}from"./chunk-DVVEKPVL.js";import{b as j}from"./chunk-GTD5WNPP.js";import{b as P,c as O,h as R,k as L,u as G}from"./chunk-M24M3PNC.js";import{c as $,d as W}from"./chunk-4L6P5Z5M.js";import{d as N,e as V}from"./chunk-JM67XKKX.js";import{$b as F,Bb as u,Cb as t,Db as g,Hb as x,Lb as y,Mb as A,Vb as M,Wb as n,Xb as T,Yb as a,_b as w,ac as B,cb as i,cc as b,db as E,mc as h,na as C,nc as S,ub as c,wb as m,xa as f,ya as _,za as D}from"./chunk-VIO7ZK3G.js";import"./chunk-3EYC4JTX.js";function U(o,l){if(o&1){let s=x();u(0,"button",22),y("click",function(){f(s);let p=A();return _(p.Print())}),n(1),h(2,"translate"),t()}o&2&&(i(),T(S(2,1,"Model.Print")))}function Y(o,l){o&1&&(D(),u(0,"svg",23),g(1,"path",24),t())}function q(o,l){o&1&&(D(),u(0,"svg",25),g(1,"path",24),t())}function J(o,l){if(o&1&&(u(0,"span"),n(1),t()),o&2){let s=A(2).$implicit;i(),a(" ",s.NetBalance," ")}}function K(o,l){if(o&1&&(u(0,"span",28),n(1),t()),o&2){let s=A(2).$implicit;i(),a(" ( ",s.NetBalance," ) ")}}function Q(o,l){if(o&1&&(u(0,"span"),c(1,J,2,1,"span",26)(2,K,2,1,"span",27),t()),o&2){let s=A().$implicit;i(),m("ngIf",s.Level==4),i(),m("ngIf",s.Level==5)}}function X(o,l){if(o&1&&(u(0,"span"),n(1),t()),o&2){let s=A().$implicit;i(),a(" ",s.NetBalance," ")}}function Z(o,l){if(o&1&&(u(0,"tr")(1,"td"),n(2),t(),u(3,"td"),c(4,Q,3,2,"span",26),t(),u(5,"td"),c(6,X,2,1,"span",26),t()()),o&2){let s=l.$implicit;i(2),a(" ",s.AccTreeName," "),i(2),m("ngIf",s.IncomeType==2),i(2),m("ngIf",s.IncomeType==1)}}var de=(()=>{let l=class l{constructor(r,p){this._AppModeService=r,this._Apiservice=p,this.SubscriptionArr=[],this.SearchModel={FromDate:"",ToDate:""},this.Arr=[],this.CostAvailableInvetory=0,this.CostSaleInvetory=0,this.GrossProfit=0,this.NetProfitBeforVat=0,this.VatAmount=0,this.NetProfitAfterVat=0,this.FirstPeriod=0,this.StorageBalance=0,this.LastSorageBalance=0,this.SalesAmount=0,this.ReturnSalesAmount=0,this.SalesAllowedAmount=0,this.SalesDiscountAmount=0,this.NetSale=0,this.BuysAmount=0,this.ReturnBuysAmount=0,this.BuysAllowedAmount=0,this.BuysDiscountAmount=0,this.BuysExpenses=0,this.NetBuy=0,this.TotalErad=0,this.TotalMasrof=0,this.InitGlReceptStorageBalance=0}ngOnInit(){this.SearchModel.FromDate=new Date(this._Apiservice.FromDate()),this.SearchModel.ToDate=new Date(this._Apiservice.ToNowDate())}Print(){if(this.SearchModel.FromDate==null||`${this.SearchModel.FromDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.FromDate"));return}if(this.SearchModel.ToDate==null||`${this.SearchModel.ToDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.ToDate"));return}let r={FromDate:this._Apiservice.ConvertISODate(this.SearchModel.FromDate),ToDate:this._Apiservice.ConvertISODate(this.SearchModel.ToDate)};if(this._Apiservice.ValidateDate(r.FromDate,r.ToDate)==!1){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("StatementOfFinancial.Error.SmallDate"));return}window.open(`${P.UseHash==!0?"/#":""} /InvoiceReport?Name=IncomeStatement&Id=0&FromDate=${r.FromDate}&ToDate=${r.ToDate}`,"_blank","width=700, height=700")}Search(){if(this.SearchModel.FromDate==null||`${this.SearchModel.FromDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.FromDate"));return}if(this.SearchModel.ToDate==null||`${this.SearchModel.ToDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.ToDate"));return}let r={FromDate:this._Apiservice.ConvertISODate(this.SearchModel.FromDate),ToDate:this._Apiservice.ConvertISODate(this.SearchModel.ToDate)};if(this._Apiservice.ValidateDate(r.FromDate,r.ToDate)==!1){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("StatementOfFinancial.Error.SmallDate"));return}let p=this._Apiservice.post("IncomeStatementEP/Show",r,!0).subscribe({next:e=>{e.IsSuccess==!0?(this.Arr=e.List,this.CostAvailableInvetory=e.CostAvailableInvetory,this.CostSaleInvetory=e.CostSaleInvetory,this.GrossProfit=e.GrossProfit,this.NetProfitBeforVat=e.NetProfitBeforVat,this.VatAmount=e.VatAmount,this.NetProfitAfterVat=e.NetProfitAfterVat,this.FirstPeriod=e.FirstPeriod,this.StorageBalance=e.StorageBalance,this.LastSorageBalance=e.LastSorageBalance,this.SalesAmount=e.SalesAmount,this.ReturnSalesAmount=e.ReturnSalesAmount,this.SalesAllowedAmount=e.SalesAllowedAmount,this.SalesDiscountAmount=e.SalesDiscountAmount,this.NetSale=e.NetSale,this.BuysAmount=e.BuysAmount,this.ReturnBuysAmount=e.ReturnBuysAmount,this.BuysAllowedAmount=e.BuysAllowedAmount,this.BuysDiscountAmount=e.BuysDiscountAmount,this.BuysExpenses=e.BuysExpenses,this.NetBuy=e.NetBuy,this.TotalErad=e.TotalErad,this.TotalMasrof=e.TotalMasrof,this.InitGlReceptStorageBalance=e.InitGlReceptStorageBalance):this._AppModeService._Toastr.error(e.Message)}});this.SubscriptionArr.push(p)}ngOnDestroy(){for(let r=0;r<this.SubscriptionArr.length;r++)this.SubscriptionArr[r].unsubscribe()}};l.\u0275fac=function(p){return new(p||l)(E(j),E(O))},l.\u0275cmp=C({type:l,selectors:[["app-income-statement"]],standalone:!0,features:[b],decls:105,vars:50,consts:[["ddddd",""],["dddd",""],["clas","bg-light"],["id","container-page",1,"container-page","me-2"],[1,"page-wrapper"],[1,"main-content"],[1,"inner-box"],[1,"title-box","font-weight-normal"],[1,"my-3","row","align-items-end","px-3"],[1,"col-12","col-md-6","col-lg-2","px-2"],[1,"my-1"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","showClear","appendTo","showOtherMonths","ngModel","showTime"],[1,"col-12","col-md-6","col-lg-3","px-2"],[1,"btn","btn-success","my-2","my-md-0","mx-3","px-5","shadow-none","Save",3,"click"],["class","btn btn-info my-2 my-md-0 mx-3 px-5 shadow-none Save",3,"click",4,"ngIf"],["width","35","height","35","fill","#198754","class","bi bi-geo-fill","viewBox","0 0 16 16",4,"ngIf"],["width","35","height","35","fill","#dc3545","class","bi bi-geo-fill","viewBox","0 0 16 16",4,"ngIf"],[1,"table-responsive","mt-4"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"d-none"],[1,"btn","btn-info","my-2","my-md-0","mx-3","px-5","shadow-none","Save",3,"click"],["width","35","height","35","fill","#198754","viewBox","0 0 16 16",1,"bi","bi-geo-fill"],["fill-rule","evenodd","d","M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"],["width","35","height","35","fill","#dc3545","viewBox","0 0 16 16",1,"bi","bi-geo-fill"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(p,e){if(p&1){let v=x();u(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),n(6),h(7,"translate"),t(),u(8,"div",8)(9,"div",9)(10,"p",10),n(11),h(12,"translate"),t(),u(13,"div",11,0)(15,"p-calendar",12),B("ngModelChange",function(d){return f(v),F(e.SearchModel.FromDate,d)||(e.SearchModel.FromDate=d),_(d)}),t()()(),u(16,"div",9)(17,"p",10),n(18),h(19,"translate"),t(),u(20,"div",11,1)(22,"p-calendar",12),B("ngModelChange",function(d){return f(v),F(e.SearchModel.ToDate,d)||(e.SearchModel.ToDate=d),_(d)}),t()()(),u(23,"div",13)(24,"button",14),y("click",function(){return f(v),_(e.Search())}),n(25),h(26,"translate"),t(),c(27,U,3,3,"button",15)(28,Y,2,0,"svg",16)(29,q,2,0,"svg",17),t()(),u(30,"div",18)(31,"table",19)(32,"thead")(33,"th"),n(34," \u0627\u0644\u0628\u064A\u0627\u0646 "),t(),u(35,"th"),n(36," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u062C\u0632\u0626\u0649 "),t(),u(37,"th"),n(38," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A "),t()(),u(39,"tbody"),c(40,Z,7,3,"tr",20),g(41,"tr"),t()()(),u(42,"div",21)(43,"p"),n(44," \u0627\u0644\u0645\u0639\u0637\u064A\u0627\u062A "),t(),u(45,"p"),n(46),t(),u(47,"p"),n(48),t(),u(49,"p"),n(50),t(),u(51,"p"),n(52),t(),u(53,"p"),n(54),t(),u(55,"p"),n(56),t(),u(57,"p"),n(58,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(59,"p"),n(60," \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),t(),u(61,"p"),n(62),t(),u(63,"p"),n(64),t(),u(65,"p"),n(66),t(),u(67,"p"),n(68),t(),u(69,"p"),n(70),t(),u(71,"p"),n(72),t(),u(73,"p"),n(74),t(),u(75,"p"),n(76,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(77,"p"),n(78," \u0627\u0644\u0645\u062E\u0632\u0648\u0646 "),t(),u(79,"p"),n(80),t(),u(81,"p"),n(82),t(),u(83,"p"),n(84),t(),u(85,"p"),n(86),t(),u(87,"p"),n(88,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(89,"p"),n(90,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(91,"p"),n(92),t(),u(93,"p"),n(94),t(),u(95,"p"),n(96),t(),u(97,"p"),n(98),t(),u(99,"p"),n(100),t(),u(101,"p"),n(102),t(),u(103,"p"),n(104),t()()()()()()()}if(p&2){let v=M(14),I=M(21);i(6),a(" ",S(7,42,"IncomeStatement.IncomeStatement")," "),i(5),a(" ",S(12,44,"SupplierAccount.FromDate"),""),i(4),m("showClear",e.SearchModel.FromDate!=null&&e.SearchModel.FromDate!="")("appendTo",v)("showOtherMonths",!0),w("ngModel",e.SearchModel.FromDate),m("showTime",!0),i(3),a(" ",S(19,46,"SupplierAccount.ToDate"),""),i(4),m("showClear",e.SearchModel.ToDate!=null&&e.SearchModel.ToDate!="")("appendTo",I)("showOtherMonths",!0),w("ngModel",e.SearchModel.ToDate),m("showTime",!0),i(3),T(S(26,48,"Model.Search")),i(2),m("ngIf",e.Arr.length>0),i(),m("ngIf",e.NetProfitAfterVat>=0),i(),m("ngIf",e.NetProfitAfterVat<0),i(11),m("ngForOf",e.Arr),i(6),a(" \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.SalesAmount," "),i(2),a(" \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.ReturnSalesAmount," "),i(2),a(" \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.SalesAllowedAmount," "),i(2),a(" \u0627\u0644\u062E\u0635\u0645 \u0639\u0644\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.SalesDiscountAmount," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.NetSale," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647) => ",e.NetSale," "),i(6),a(" \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysAmount," "),i(2),a(" \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.ReturnBuysAmount," "),i(2),a(" \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysAllowedAmount," "),i(2),a(" \u0627\u0644\u062E\u0635\u0645 \u0639\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysDiscountAmount," "),i(2),a(" \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysExpenses," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.NetBuy," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A = ( \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ) - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0643\u062A\u0633\u0628 ) => ",e.NetBuy,""),i(6),a(" \u0627\u0648\u0644 \u0627\u0644\u0645\u062F\u0629 => ",e.FirstPeriod," "),i(2),a(" \u062E\u0644\u0627\u0644 \u0627\u0644\u0645\u062F\u0629 => ",e.StorageBalance," "),i(2),a(" \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",e.LastSorageBalance," "),i(2),a(" \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0645\u062E\u0632\u0648\u0646 \u0627\u0648\u0644 + \u062E\u0644\u0627\u0644 - \u0628\u0636\u0627\u0639\u0629 \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",e.CostSaleInvetory," "),i(6),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647 ) => ",e.NetSale," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A = ( \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ) - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0643\u062A\u0633\u0628 ) => ",e.NetBuy,""),i(2),a(" \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0645\u062E\u0632\u0648\u0646 \u0627\u0648\u0644 + \u062E\u0644\u0627\u0644 - \u0628\u0636\u0627\u0639\u0629 \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",e.CostSaleInvetory," "),i(2),a(" \u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D = \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.GrossProfit," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D + \u0627\u064A\u0631\u0627\u062F\u0627\u062A - \u0645\u0635\u0631\u0648\u0641\u0627\u062A => ",e.NetProfitBeforVat," "),i(2),a(" \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0639\u0644\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0639\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.VatAmount," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 - \u0635\u0627\u0641\u064A \u0627\u0644\u0636\u0631\u064A\u0628\u0629 => ",e.NetProfitAfterVat," ")}},dependencies:[H,z,W,$,N,V,G,R,L,k]});let o=l;return o})();export{de as IncomeStatementComponent};
