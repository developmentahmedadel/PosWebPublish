import{b as et,j as nt}from"./chunk-JSAFLJSP.js";import"./chunk-EDAXKXER.js";import{a as it}from"./chunk-VSYXDL23.js";import"./chunk-ZFVZF6NJ.js";import{s as $}from"./chunk-CCUNZCGD.js";import{a as tt}from"./chunk-6KCN6SOZ.js";import{a as X,b as Z}from"./chunk-OFCF557E.js";import"./chunk-PHRVA4P6.js";import"./chunk-5KZZH3PQ.js";import"./chunk-ENJ54XRO.js";import{d as J}from"./chunk-ZWNSIIKM.js";import"./chunk-KZSRC3MR.js";import"./chunk-TQD4QWDO.js";import{c as j,d as L,g as Y}from"./chunk-JS2GAZTB.js";import{H as F,I as W,_ as G,aa as Q,d as P,da as q,fa as H,i as k,la as z,na as K}from"./chunk-WSHLQXZC.js";import{$b as y,Cb as n,Db as i,Eb as B,Ib as x,Mb as A,Nb as u,Tb as T,Ub as w,Vb as N,Wb as R,X as b,Xb as a,Yb as C,Zb as r,ac as I,bc as g,db as e,dc as O,eb as V,na as D,nc as l,oc as s,pc as M,qc as U,vb as v,xa as f,xb as c,ya as _}from"./chunk-J5UB44FZ.js";import"./chunk-3EYC4JTX.js";var at=["content"],rt=["contentDeails"];function ot(p,S){if(p&1){let t=x();B(0,"app-modal-header",4),n(1,"div",5)(2,"div",6)(3,"div",7)(4,"label",8),a(5),l(6,"translate"),i(),n(7,"input",9),g("ngModelChange",function(o){f(t);let d=u();return I(d.ShifthForm.Name,o)||(d.ShifthForm.Name=o),_(o)}),i()(),n(8,"div",7)(9,"label",10),a(10),l(11,"translate"),i(),n(12,"div",11)(13,"p-calendar",12),g("ngModelChange",function(o){f(t);let d=u();return I(d.ShifthForm.StartDate,o)||(d.ShifthForm.StartDate=o),_(o)}),i()()(),n(14,"div",7)(15,"label",13),a(16),l(17,"translate"),i(),n(18,"input",14),g("ngModelChange",function(o){f(t);let d=u();return I(d.ShifthForm.StartCash,o)||(d.ShifthForm.StartCash=o),_(o)}),i()(),n(19,"div",7)(20,"label",15),a(21),l(22,"translate"),i(),n(23,"input",16),g("ngModelChange",function(o){f(t);let d=u();return I(d.ShifthForm.StartVisa,o)||(d.ShifthForm.StartVisa=o),_(o)}),i()()(),n(24,"div",17)(25,"button",18),A("click",function(){f(t);let o=u();return _(o.Send())}),a(26),l(27,"translate"),i(),n(28,"button",19),A("click",function(){let o=f(t).$implicit,d=u();return o.close("Close click"),_(d.ResetPage())}),a(29),l(30,"translate"),i()()()}if(p&2){let t=u();c("PageTitle","Shift.Shift"),e(5),C(s(6,15,"Table.Name")),e(2),y("ngModel",t.ShifthForm.Name),e(3),C(s(11,17,"Shift.StartDate")),e(3),y("ngModel",t.ShifthForm.StartDate),c("showTime",!0)("showIcon",!0)("showOnFocus",!0)("showOtherMonths",!0),e(3),C(s(17,19,"Shift.StartCash")),e(2),y("ngModel",t.ShifthForm.StartCash),e(3),C(s(22,21,"Shift.StartVisa")),e(2),y("ngModel",t.ShifthForm.StartVisa),e(3),C(s(27,23,"Model.Send")),e(3),C(s(30,25,"Model.Close"))}}function pt(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.StartCash," ")}}function lt(p,S){if(p&1){let t=x();n(0,"input",38),g("ngModelChange",function(o){f(t);let d=u(2);return I(d.UpdateShift.StartCash,o)||(d.UpdateShift.StartCash=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.StartCash)}}function st(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.EndCash," ")}}function dt(p,S){if(p&1){let t=x();n(0,"input",38),g("ngModelChange",function(o){f(t);let d=u(2);return I(d.UpdateShift.EndCash,o)||(d.UpdateShift.EndCash=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.EndCash)}}function mt(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.StartVisa," ")}}function ut(p,S){if(p&1){let t=x();n(0,"input",38),g("ngModelChange",function(o){f(t);let d=u(2);return I(d.UpdateShift.StartVisa,o)||(d.UpdateShift.StartVisa=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.StartVisa)}}function St(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.EndVisa," ")}}function ht(p,S){if(p&1){let t=x();n(0,"input",38),g("ngModelChange",function(o){f(t);let d=u(2);return I(d.UpdateShift.EndVisa,o)||(d.UpdateShift.EndVisa=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.EndVisa)}}function ct(p,S){p&1&&(n(0,"span",39),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.UPCash")," "))}function ft(p,S){p&1&&(n(0,"span",40),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.DownCash")," "))}function _t(p,S){p&1&&(n(0,"span",39),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.UPVisa")," "))}function xt(p,S){p&1&&(n(0,"span",40),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.DownVisa")," "))}function Ct(p,S){if(p&1&&(n(0,"span")(1,"span",29),a(2),l(3,"date"),i()()),p&2){let t=u(2);e(2),r(" ",M(3,1,t.UpdateShift.CloseDate,"d-M-yyyy h:mm:ss a")," ")}}function vt(p,S){if(p&1){let t=x();n(0,"div",11)(1,"p-calendar",12),g("ngModelChange",function(o){f(t);let d=u(2);return I(d.UpdateShift.CloseDate,o)||(d.UpdateShift.CloseDate=o),_(o)}),i()()}if(p&2){let t=u(2);e(),y("ngModel",t.UpdateShift.CloseDate),c("showTime",!0)("showIcon",!0)("showOnFocus",!0)("showOtherMonths",!0)}}function yt(p,S){if(p&1){let t=x();n(0,"button",41),A("click",function(){f(t);let o=u(2);return _(o.Print())}),a(1),l(2,"translate"),i()}p&2&&(e(),C(s(2,1,"Model.Print")))}function It(p,S){if(p&1){let t=x();n(0,"button",42),A("click",function(){f(t);let o=u(2);return _(o.Update())}),a(1),l(2,"translate"),i()}p&2&&(e(),C(s(2,1,"Model.Update")))}function gt(p,S){if(p&1){let t=x();n(0,"button",43),A("click",function(){f(t);let o=u(2);return _(o.CloseShift())}),a(1),l(2,"translate"),i()}p&2&&(e(),C(s(2,1,"Shift.CloseShift")))}function At(p,S){if(p&1){let t=x();B(0,"app-modal-header",4),n(1,"div",20)(2,"div",21)(3,"div",22)(4,"span",23),a(5),l(6,"translate"),i(),v(7,pt,2,1,"span",24)(8,lt,1,1,"input",25),i(),n(9,"div",22)(10,"span",23),a(11),l(12,"translate"),i(),v(13,st,2,1,"span",24)(14,dt,1,1,"input",25),i(),n(15,"div",22)(16,"span",23),a(17),l(18,"translate"),i(),n(19,"span",23),a(20),i()(),n(21,"div",22)(22,"span",23),a(23),l(24,"translate"),i(),v(25,mt,2,1,"span",24)(26,ut,1,1,"input",25),i(),n(27,"div",22)(28,"span",23),a(29),l(30,"translate"),i(),v(31,St,2,1,"span",24)(32,ht,1,1,"input",25),i(),n(33,"div",22)(34,"span",23),a(35),l(36,"translate"),i(),n(37,"span",23),a(38),i()(),n(39,"div",26),v(40,ct,3,3,"span",27)(41,ft,3,3,"span",28),n(42,"span",23),a(43),i()(),n(44,"div",26),v(45,_t,3,3,"span",27)(46,xt,3,3,"span",28),n(47,"span",23),a(48),i()(),n(49,"div",22)(50,"span",23),a(51),l(52,"translate"),i(),n(53,"span",29),a(54),l(55,"date"),i()(),n(56,"div",30)(57,"span",23),a(58),l(59,"translate"),i(),v(60,Ct,4,4,"span",31)(61,vt,2,5,"div",32),i()(),n(62,"div",22)(63,"span",23),a(64),l(65,"translate"),i(),n(66,"span",23),a(67),i()(),n(68,"div",22)(69,"span",23),a(70),l(71,"translate"),i(),n(72,"span",23),a(73),i()(),n(74,"div",22)(75,"span",23),a(76),l(77,"translate"),i(),n(78,"span",23),a(79),i()(),n(80,"div",22)(81,"span",23),a(82),l(83,"translate"),i(),n(84,"span",23),a(85),i()(),n(86,"div",22)(87,"span",23),a(88),l(89,"translate"),i(),n(90,"span",23),a(91),i()(),n(92,"div",22)(93,"span",23),a(94),l(95,"translate"),i(),n(96,"span",23),a(97),i()(),n(98,"div",22)(99,"span",23),a(100),l(101,"translate"),i(),n(102,"span",23),a(103),i()(),n(104,"div",22)(105,"span",23),a(106),l(107,"translate"),i(),n(108,"span",23),a(109),i()(),n(110,"div",22)(111,"span",23),a(112),l(113,"translate"),i(),n(114,"span",23),a(115),i()(),n(116,"div",22)(117,"span",23),a(118),l(119,"translate"),i(),n(120,"span",23),a(121),i()(),n(122,"div",22)(123,"span",23),a(124),l(125,"translate"),i(),n(126,"span",23),a(127),i()(),n(128,"div",22)(129,"span",23),a(130),l(131,"translate"),i(),n(132,"span",23),a(133),i()(),n(134,"div",22)(135,"span",23),a(136),l(137,"translate"),i(),n(138,"span",23),a(139),i()(),n(140,"div",22)(141,"span",23),a(142),l(143,"translate"),i(),n(144,"span",23),a(145),i()(),n(146,"div",22)(147,"span",23),a(148),l(149,"translate"),i(),n(150,"span",23),a(151),i()(),n(152,"div",22)(153,"span",23),a(154),l(155,"translate"),i(),n(156,"span",23),a(157),i()(),n(158,"div",22)(159,"span",23),a(160),l(161,"translate"),i(),n(162,"span",23),a(163),i()(),n(164,"div",22)(165,"span",23),a(166),l(167,"translate"),i(),n(168,"span",23),a(169),i()(),n(170,"div",22)(171,"span",23),a(172),l(173,"translate"),i(),n(174,"span",23),a(175),i()(),n(176,"div",22)(177,"span",23),a(178),l(179,"translate"),i(),n(180,"span",23),a(181),i()(),n(182,"div",22)(183,"span",23),a(184),l(185,"translate"),i(),n(186,"span",23),a(187),i()(),n(188,"div",22)(189,"span",23),a(190),l(191,"translate"),i(),n(192,"span",23),a(193),i()(),n(194,"div",22)(195,"span",23),a(196),l(197,"translate"),i(),n(198,"span",23),a(199),i()(),n(200,"div",22)(201,"span",23),a(202),l(203,"translate"),i(),n(204,"span",23),a(205),i()(),n(206,"div",22)(207,"span",23),a(208),l(209,"translate"),i(),n(210,"span",23),a(211),i()(),n(212,"div",22)(213,"span",23),a(214),l(215,"translate"),i(),n(216,"span",23),a(217),i()(),n(218,"div",22)(219,"span",23),a(220),l(221,"translate"),i(),n(222,"span",23),a(223),i()()(),n(224,"div",33),v(225,yt,3,3,"button",34)(226,It,3,3,"button",35)(227,gt,3,3,"button",36),n(228,"button",37),A("click",function(){let o=f(t).$implicit;return _(o.close("Close click"))}),a(229),l(230,"translate"),i()()}if(p&2){let t=u();c("PageTitle","Shift.Shift"),e(5),r(" ",s(6,86,"Shift.StartCash")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(12,88,"Shift.EndCash")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(18,90,"Shift.NetCash")," "),e(3),r(" ",t.NetCash," "),e(3),r(" ",s(24,92,"Shift.StartVisa")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(30,94,"Shift.EndVisa")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(36,96,"Shift.NetVisa")," "),e(3),r(" ",t.NetVisa," "),e(2),c("ngIf",t.ConvertNumber(t.UpdateShift.EndCash)>=t.NetCash),e(),c("ngIf",t.ConvertNumber(t.UpdateShift.EndCash)<t.NetCash),e(2),r(" ",t.ConvertNumber(t.UpdateShift.EndCash)-t.NetCash," "),e(2),c("ngIf",t.ConvertNumber(t.UpdateShift.EndVisa)>=t.NetVisa),e(),c("ngIf",t.ConvertNumber(t.UpdateShift.EndVisa)<t.NetVisa),e(2),r(" ",t.ConvertNumber(t.UpdateShift.EndVisa)-t.NetVisa," "),e(3),r(" ",s(52,98,"Shift.StartDate")," "),e(3),r(" ",M(55,100,t.UpdateShift.StartDate,"d-M-yyyy h:mm:ss a")," "),e(4),r(" ",s(59,103,"Shift.CloseDate")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(65,105,"Shift.SaleAmount")," "),e(3),r(" ",t.UpdateShift.SaleAmount," "),e(3),r(" ",s(71,107,"Shift.SaleCashAmount")," "),e(3),r(" ",t.UpdateShift.SaleCashAmount," "),e(3),r(" ",s(77,109,"Shift.SaleVisaAmount")," "),e(3),r(" ",t.UpdateShift.SaleVisaAmount," "),e(3),r(" ",s(83,111,"Shift.SaleDebtAmount")," "),e(3),r(" ",t.UpdateShift.SaleDebtAmount," "),e(3),r(" ",s(89,113,"Shift.SaleDeliveryAmount")," "),e(3),r(" ",t.UpdateShift.SaleDeliveryAmount," "),e(3),r(" ",s(95,115,"Shift.BuyAmount")," "),e(3),r(" ",t.UpdateShift.BuyAmount," "),e(3),r(" ",s(101,117,"Shift.BuyVisaAmount")," "),e(3),r(" ",t.UpdateShift.BuyVisaAmount," "),e(3),r(" ",s(107,119,"Shift.BuyCashAmount")," "),e(3),r(" ",t.UpdateShift.BuyCashAmount," "),e(3),r(" ",s(113,121,"Shift.BuyDebtAmount")," "),e(3),r(" ",t.UpdateShift.BuyDebtAmount," "),e(3),r(" ",s(119,123,"Shift.ReturnBuyAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyAmount," "),e(3),r(" ",s(125,125,"Shift.ReturnBuyVisaAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyVisaAmount," "),e(3),r(" ",s(131,127,"Shift.ReturnBuyCashAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyCashAmount," "),e(3),r(" ",s(137,129,"Shift.ReturnBuyDebtAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyDebtAmount," "),e(3),r(" ",s(143,131,"Shift.ReturnSaleAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleAmount," "),e(3),r(" ",s(149,133,"Shift.ReturnSaleVisaAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleVisaAmount," "),e(3),r(" ",s(155,135,"Shift.ReturnSaleCashAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleCashAmount," "),e(3),r(" ",s(161,137,"Shift.ReturnSaleDebtAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleDebtAmount," "),e(3),r(" ",s(167,139,"Shift.TreasuryInCashAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryInCashAmount," "),e(3),r(" ",s(173,141,"Shift.TreasuryInVisaAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryInVisaAmount," "),e(3),r(" ",s(179,143,"Shift.TreasuryOutCashAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryOutCashAmount," "),e(3),r(" ",s(185,145,"Shift.TreasuryOutVisaAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryOutVisaAmount," "),e(3),r(" ",s(191,147,"Shift.SalesNo")," "),e(3),r(" ",t.UpdateShift.SaleInvoiceNo," "),e(3),r(" ",s(197,149,"Shift.BuyNo")," "),e(3),r(" ",t.UpdateShift.BuyInvoiceNo," "),e(3),r(" ",s(203,151,"Shift.ReturnBuyNo")," "),e(3),r(" ",t.UpdateShift.ReturnBuyInvoiceNo," "),e(3),r(" ",s(209,153,"Shift.ReturnSaleNo")," "),e(3),r(" ",t.UpdateShift.ReturnSaleInvoiceNo," "),e(3),r(" ",s(215,155,"Shift.TreasueyInNo")," "),e(3),r(" ",t.UpdateShift.TreasuryInNo," "),e(3),r(" ",s(221,157,"Shift.TreasueyOutNo")," "),e(3),r(" ",t.UpdateShift.TreasuryOutNo," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(2),C(s(230,159,"Model.Close"))}}var Gt=(()=>{let S=class S{constructor(m,o,d){this._SharedObjectModelService=m,this._AppModeService=o,this._Apiservice=d,this.TablePaging={InputType:"Table",Type:"TablePaging",GlobalData:{Url:"Global/GetAll",TableName:"Shifts",BranchFilter:!0,Columns:["Id","Name","StartDate","CloseDate","IsOpen","StartCash"]},Required:!1,TableCell:[{SortName:"Name",CellName:"Table.Name"},{SortName:"StartCash",CellName:"Shift.StartCash"},{SortName:"StartDate",CellName:"Shift.StartDate",CellDateTime:!0},{SortName:"CloseDate",CellName:"Shift.CloseDate",CellDateTime:!0},{SortName:"IsOpen",CellName:"Shift.IsOpen",DataBoolean:!0}]},this.NetCash=0,this.NetVisa=0,this.ShifthForm={IsOpen:!1,StartCash:"",EndCash:0,StartVisa:"",EndVisa:0,StartDate:"",CloseDate:null,TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,Id:0,Name:"",Code:"",TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",StartVisa:"",EndVisa:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnInit(){}ConvertNumber(m){return Number(m)}ShowToEdite(){this._AppModeService._NgbModal.dismissAll(),this._AppModeService._NgbModal.open(this.ContentDeailsModel,{size:"xl",backdrop:"static"}),this.Drow()}Drow(){let m=this._SharedObjectModelService.PageModel;this.UpdateShift=m,this.NetCash=m.NetCash,this.NetVisa=m.NetVisa,this.UpdateShift.IsOpen==!0&&(this.UpdateShift.CloseDate="")}Send(){if(this.ShifthForm.Name.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.Name"));return}if(this.ShifthForm.StartDate==null){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.StartDate"));return}if(Number(this.ShifthForm.StartCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartCash"));return}if(Number(this.ShifthForm.StartVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartVisa"));return}let m={},o=Object.keys(this.ShifthForm),d=Object.values(this.ShifthForm);for(let h=0;h<o.length;h++)m[`${o[h]}`]=d[h];m.StartDate=this._Apiservice.ConvertISODate(this.ShifthForm.StartDate),m.StartCash=Number(this.ShifthForm.StartCash),m.StartVisa=Number(this.ShifthForm.StartVisa),m.EndVisa=0,m.EndCash=0,m.Id=0,m.CloseDate=null,this._Apiservice.post("ShiftEP/Add",m,!0).pipe(b(this._Apiservice.destroy$)).subscribe({next:h=>{h.IsSuccess==!0&&h.Obj!=null?(this._AppModeService._Toastr.success(h.Message),this.ResetPage(),this._SharedObjectModelService.Paging.DataReturn.push(h.Obj)):this._AppModeService._Toastr.error(h.Message)}})}Update(){let m={Id:this.UpdateShift.Id,StartCash:this.UpdateShift.StartCash,StartVisa:this.UpdateShift.StartVisa};this._Apiservice.put("ShiftEP/Update",m,!0).pipe(b(this._Apiservice.destroy$)).subscribe({next:o=>{if(o.IsSuccess==!0&&o.Obj!=null){this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let d=o.Obj,h=this._SharedObjectModelService.Paging.DataReturn.find(E=>E.Id==d.Id);h!=null&&Object.assign(h,d)}else this._AppModeService._Toastr.error(o.Message)}})}CloseShift(){if(this.UpdateShift.CloseDate==null||this.UpdateShift.CloseDate==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.CloseDate"));return}if(Number(this.ShifthForm.EndCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndCash"));return}if(Number(this.ShifthForm.EndVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndVisa"));return}let m={Id:this.UpdateShift.Id,CloseDate:this._Apiservice.ConvertISODate(this.UpdateShift.CloseDate),EndCash:this.UpdateShift.EndCash,EndVisa:this.UpdateShift.EndVisa};this._Apiservice.post("ShiftEP/Close",m,!0).pipe(b(this._Apiservice.destroy$)).subscribe({next:o=>{if(o.IsSuccess==!0&&o.Obj!=null){this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let d=o.Obj,h=this._SharedObjectModelService.Paging.DataReturn.find(E=>E.Id==d.Id);h!=null&&Object.assign(h,d)}else this._AppModeService._Toastr.error(o.Message)}})}Print(){window.open(`${F.UseHash==!0?"/#":""} /InvoiceReport?Name=ShiftReport&Id=${this.UpdateShift.Id}`,"_blank","width=700, height=700")}ResetPage(){this.ShifthForm={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnDestroy(){this._Apiservice.destroy$.next(),this._Apiservice.destroy$.complete()}};S.\u0275fac=function(o){return new(o||S)(V(tt),V(Y),V(W))},S.\u0275cmp=D({type:S,selectors:[["app-shift"]],viewQuery:function(o,d){if(o&1&&(T(at,5),T(rt,5)),o&2){let h;w(h=N())&&(d.ContentModel=h.first),w(h=N())&&(d.ContentDeailsModel=h.first)}},standalone:!0,features:[O],decls:5,vars:7,consts:[["content",""],["contentDeails",""],[3,"ShowToEditeEvent","PageTitle","TablePaging","AddUrl","GetById","UpdateUrl","DeleteUrl","OutModal"],[1,"col-12"],[3,"PageTitle"],[1,"modal-body","p-0","m-0"],[1,"d-flex","align-items-end","flex-wrap","mb-3"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","p-1"],["for","Name"],["type","text","id","Name",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],["for","StartDate"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","ngModel","showTime","showIcon","showOnFocus","showOtherMonths"],["for","StartCash"],["min","0","type","number","appNumericInput","","id","StartCash",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],["for","StartVisa"],["min","0","type","number","appNumericInput","","id","StartVisa",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[1,"modal-footer","bg-white","w-100","py-2","px-4","m-0"],[1,"btn","btn-success","py-3","px-5",3,"click"],["type","button",1,"btn","btn-light","border","border-1","border-dark","px-5","py-3",3,"click"],[1,"modal-body","text-center","row"],[1,"col-12","row"],[1,"col-12","col-md-2"],[1,"my-1","d-block"],["class","my-1 d-block",4,"ngIf"],["class","form-control text-center",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-12","col-md-2","text-center","px-2"],["class","my-1 d-block text-success",4,"ngIf"],["class","my-1 d-block text-danger",4,"ngIf"],[1,"d-block"],[1,"col-12","col-md-2","px-0"],[4,"ngIf"],["class","formdate",4,"ngIf"],[1,"modal-footer","bg-white","w-100"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",3,"click"],[1,"form-control","text-center",3,"ngModelChange","ngModel"],[1,"my-1","d-block","text-success"],[1,"my-1","d-block","text-danger"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(o,d){if(o&1){let h=x();n(0,"app-dynamic-component",2),A("ShowToEditeEvent",function(){return f(h),_(d.ShowToEdite())}),i(),v(1,ot,31,27,"ng-template",3,0,U)(3,At,231,161,"ng-template",3,1,U)}if(o&2){let h=R(2);c("PageTitle","Shift.Shift")("TablePaging",d.TablePaging)("AddUrl","ShiftEP/Add")("GetById","ShiftEP/GetById")("UpdateUrl","ShiftEP/Update")("DeleteUrl","ShiftEP/Delete")("OutModal",h)}},dependencies:[$,L,j,K,G,H,Q,z,q,J,P,Z,X,k,nt,et,it]});let p=S;return p})();export{Gt as ShiftComponent};
