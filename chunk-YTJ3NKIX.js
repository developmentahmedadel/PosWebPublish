import{b as ne,c as re,h as pe}from"./chunk-RMPXGUPG.js";import"./chunk-6G7QKXJW.js";import"./chunk-PE2JD36L.js";import{a as ae}from"./chunk-NNHHLG53.js";import{x as ie}from"./chunk-RAAURFHQ.js";import{a as ee,b as te}from"./chunk-UVSBIWKY.js";import"./chunk-5EQTOVFJ.js";import{a as oe}from"./chunk-OZ63RRZR.js";import"./chunk-3T7HRBK4.js";import"./chunk-G323P4PR.js";import"./chunk-NZD6IPKE.js";import"./chunk-EKOK3I7J.js";import{d as $}from"./chunk-SU7IEUNK.js";import"./chunk-MYPGER6Q.js";import"./chunk-CETGYK4I.js";import{c as Z}from"./chunk-F7IHWOEY.js";import{c as G,d as q}from"./chunk-GJAIQ3XH.js";import{b as j,c as M,d as Q,g as H,i as z,l as K,n as Y,t as J,v as X}from"./chunk-UA6GT64L.js";import{e as W,j as L}from"./chunk-GOUT62LL.js";import{$b as v,Cb as n,Db as i,Eb as T,Ib as x,Mb as E,Nb as u,Tb as B,Ub as w,Vb as N,Wb as P,X as b,Xb as a,Yb as I,Zb as r,ac as y,bc as g,cc as F,db as t,dc as k,eb as V,ia as R,na as O,nc as s,oc as d,pc as U,qc as D,vb as C,xa as f,xb as c,ya as _}from"./chunk-RH76WUG2.js";import"./chunk-3EYC4JTX.js";var se=["dynamiccomponent"],de=["content"],me=["contentDeails"];function ue(p,S){if(p&1){let e=x();T(0,"app-modal-header",5),n(1,"div",6)(2,"div",7)(3,"div",8)(4,"label",9),a(5),s(6,"translate"),i(),n(7,"input",10),g("ngModelChange",function(o){f(e);let l=u();return y(l.ShifthForm.Name,o)||(l.ShifthForm.Name=o),_(o)}),i()(),n(8,"div",11)(9,"label",12),a(10),s(11,"translate"),i(),n(12,"div",13)(13,"p-calendar",14),g("ngModelChange",function(o){f(e);let l=u();return y(l.ShifthForm.StartDate,o)||(l.ShifthForm.StartDate=o),_(o)}),i()()(),n(14,"div",8)(15,"label",15),a(16),s(17,"translate"),i(),n(18,"input",16),g("ngModelChange",function(o){f(e);let l=u();return y(l.ShifthForm.StartCash,o)||(l.ShifthForm.StartCash=o),_(o)}),i()(),n(19,"div",8)(20,"label",17),a(21),s(22,"translate"),i(),n(23,"input",18),g("ngModelChange",function(o){f(e);let l=u();return y(l.ShifthForm.StartVisa,o)||(l.ShifthForm.StartVisa=o),_(o)}),i()()(),n(24,"app-modal-footer",19),E("SaveEvent",function(){f(e);let o=u();return _(o.Send())})("CloseEvent",function(){let o=f(e).$implicit,l=u();return o.close("Close click"),_(l.ResetPage())}),i()()}if(p&2){let e=u();c("PageTitle",e.TablePaging.PageTitle),t(5),I(d(6,14,"Table.Name")),t(2),v("ngModel",e.ShifthForm.Name),t(3),I(d(11,16,"Shift.StartDate")),t(3),v("ngModel",e.ShifthForm.StartDate),c("showTime",!0)("showIcon",!0)("showOnFocus",!0)("showOtherMonths",!0),t(3),I(d(17,18,"Shift.StartCash")),t(2),v("ngModel",e.ShifthForm.StartCash),t(3),I(d(22,20,"Shift.StartVisa")),t(2),v("ngModel",e.ShifthForm.StartVisa),t(),c("Id",e.ShifthForm.Id)}}function Se(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.StartCash," ")}}function he(p,S){if(p&1){let e=x();n(0,"input",38),g("ngModelChange",function(o){f(e);let l=u(2);return y(l.UpdateShift.StartCash,o)||(l.UpdateShift.StartCash=o),_(o)}),i()}if(p&2){let e=u(2);v("ngModel",e.UpdateShift.StartCash)}}function ce(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.EndCash," ")}}function fe(p,S){if(p&1){let e=x();n(0,"input",38),g("ngModelChange",function(o){f(e);let l=u(2);return y(l.UpdateShift.EndCash,o)||(l.UpdateShift.EndCash=o),_(o)}),i()}if(p&2){let e=u(2);v("ngModel",e.UpdateShift.EndCash)}}function _e(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.StartVisa," ")}}function xe(p,S){if(p&1){let e=x();n(0,"input",38),g("ngModelChange",function(o){f(e);let l=u(2);return y(l.UpdateShift.StartVisa,o)||(l.UpdateShift.StartVisa=o),_(o)}),i()}if(p&2){let e=u(2);v("ngModel",e.UpdateShift.StartVisa)}}function Ce(p,S){if(p&1&&(n(0,"span",23),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.EndVisa," ")}}function ve(p,S){if(p&1){let e=x();n(0,"input",38),g("ngModelChange",function(o){f(e);let l=u(2);return y(l.UpdateShift.EndVisa,o)||(l.UpdateShift.EndVisa=o),_(o)}),i()}if(p&2){let e=u(2);v("ngModel",e.UpdateShift.EndVisa)}}function ye(p,S){p&1&&(n(0,"span",39),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.UPCash")," "))}function ge(p,S){p&1&&(n(0,"span",40),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.DownCash")," "))}function Ie(p,S){p&1&&(n(0,"span",39),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.UPVisa")," "))}function Ee(p,S){p&1&&(n(0,"span",40),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.DownVisa")," "))}function Ae(p,S){if(p&1&&(n(0,"span")(1,"span",29),a(2),s(3,"date"),i()()),p&2){let e=u(2);t(2),r(" ",U(3,1,e.UpdateShift.CloseDate,"d-M-yyyy h:mm:ss a")," ")}}function be(p,S){if(p&1){let e=x();n(0,"div",13)(1,"p-calendar",14),g("ngModelChange",function(o){f(e);let l=u(2);return y(l.UpdateShift.CloseDate,o)||(l.UpdateShift.CloseDate=o),_(o)}),i()()}if(p&2){let e=u(2);t(),v("ngModel",e.UpdateShift.CloseDate),c("showTime",!0)("showIcon",!0)("showOnFocus",!0)("showOtherMonths",!0)}}function Ve(p,S){if(p&1){let e=x();n(0,"button",41),E("click",function(){f(e);let o=u(2);return _(o.Print())}),a(1),s(2,"translate"),i()}p&2&&(t(),I(d(2,1,"Model.Print")))}function Te(p,S){if(p&1){let e=x();n(0,"button",42),E("click",function(){f(e);let o=u(2);return _(o.Update())}),a(1),s(2,"translate"),T(3,"i",43),i()}p&2&&(t(),I(d(2,1,"Model.Update")))}function Be(p,S){if(p&1){let e=x();n(0,"button",44),E("click",function(){f(e);let o=u(2);return _(o.CloseShift())}),a(1),s(2,"translate"),i()}p&2&&(t(),I(d(2,1,"Shift.CloseShift")))}function we(p,S){if(p&1){let e=x();T(0,"app-modal-header",5),n(1,"div",20)(2,"div",21)(3,"div",22)(4,"span",23),a(5),s(6,"translate"),i(),C(7,Se,2,1,"span",24)(8,he,1,1,"input",25),i(),n(9,"div",22)(10,"span",23),a(11),s(12,"translate"),i(),C(13,ce,2,1,"span",24)(14,fe,1,1,"input",25),i(),n(15,"div",22)(16,"span",23),a(17),s(18,"translate"),i(),n(19,"span",23),a(20),i()(),n(21,"div",22)(22,"span",23),a(23),s(24,"translate"),i(),C(25,_e,2,1,"span",24)(26,xe,1,1,"input",25),i(),n(27,"div",22)(28,"span",23),a(29),s(30,"translate"),i(),C(31,Ce,2,1,"span",24)(32,ve,1,1,"input",25),i(),n(33,"div",22)(34,"span",23),a(35),s(36,"translate"),i(),n(37,"span",23),a(38),i()(),n(39,"div",26),C(40,ye,3,3,"span",27)(41,ge,3,3,"span",28),n(42,"span",23),a(43),i()(),n(44,"div",26),C(45,Ie,3,3,"span",27)(46,Ee,3,3,"span",28),n(47,"span",23),a(48),i()(),n(49,"div",22)(50,"span",23),a(51),s(52,"translate"),i(),n(53,"span",29),a(54),s(55,"date"),i()(),n(56,"div",30)(57,"span",23),a(58),s(59,"translate"),i(),C(60,Ae,4,4,"span",31)(61,be,2,5,"div",32),i()(),n(62,"div",22)(63,"span",23),a(64),s(65,"translate"),i(),n(66,"span",23),a(67),i()(),n(68,"div",22)(69,"span",23),a(70),s(71,"translate"),i(),n(72,"span",23),a(73),i()(),n(74,"div",22)(75,"span",23),a(76),s(77,"translate"),i(),n(78,"span",23),a(79),i()(),n(80,"div",22)(81,"span",23),a(82),s(83,"translate"),i(),n(84,"span",23),a(85),i()(),n(86,"div",22)(87,"span",23),a(88),s(89,"translate"),i(),n(90,"span",23),a(91),i()(),n(92,"div",22)(93,"span",23),a(94),s(95,"translate"),i(),n(96,"span",23),a(97),i()(),n(98,"div",22)(99,"span",23),a(100),s(101,"translate"),i(),n(102,"span",23),a(103),i()(),n(104,"div",22)(105,"span",23),a(106),s(107,"translate"),i(),n(108,"span",23),a(109),i()(),n(110,"div",22)(111,"span",23),a(112),s(113,"translate"),i(),n(114,"span",23),a(115),i()(),n(116,"div",22)(117,"span",23),a(118),s(119,"translate"),i(),n(120,"span",23),a(121),i()(),n(122,"div",22)(123,"span",23),a(124),s(125,"translate"),i(),n(126,"span",23),a(127),i()(),n(128,"div",22)(129,"span",23),a(130),s(131,"translate"),i(),n(132,"span",23),a(133),i()(),n(134,"div",22)(135,"span",23),a(136),s(137,"translate"),i(),n(138,"span",23),a(139),i()(),n(140,"div",22)(141,"span",23),a(142),s(143,"translate"),i(),n(144,"span",23),a(145),i()(),n(146,"div",22)(147,"span",23),a(148),s(149,"translate"),i(),n(150,"span",23),a(151),i()(),n(152,"div",22)(153,"span",23),a(154),s(155,"translate"),i(),n(156,"span",23),a(157),i()(),n(158,"div",22)(159,"span",23),a(160),s(161,"translate"),i(),n(162,"span",23),a(163),i()(),n(164,"div",22)(165,"span",23),a(166),s(167,"translate"),i(),n(168,"span",23),a(169),i()(),n(170,"div",22)(171,"span",23),a(172),s(173,"translate"),i(),n(174,"span",23),a(175),i()(),n(176,"div",22)(177,"span",23),a(178),s(179,"translate"),i(),n(180,"span",23),a(181),i()(),n(182,"div",22)(183,"span",23),a(184),s(185,"translate"),i(),n(186,"span",23),a(187),i()(),n(188,"div",22)(189,"span",23),a(190),s(191,"translate"),i(),n(192,"span",23),a(193),i()(),n(194,"div",22)(195,"span",23),a(196),s(197,"translate"),i(),n(198,"span",23),a(199),i()(),n(200,"div",22)(201,"span",23),a(202),s(203,"translate"),i(),n(204,"span",23),a(205),i()(),n(206,"div",22)(207,"span",23),a(208),s(209,"translate"),i(),n(210,"span",23),a(211),i()(),n(212,"div",22)(213,"span",23),a(214),s(215,"translate"),i(),n(216,"span",23),a(217),i()(),n(218,"div",22)(219,"span",23),a(220),s(221,"translate"),i(),n(222,"span",23),a(223),i()()(),n(224,"div",33),C(225,Ve,3,3,"button",34)(226,Te,4,3,"button",35)(227,Be,3,3,"button",36),n(228,"button",37),E("click",function(){let o=f(e).$implicit;return _(o.close("Close click"))}),a(229),s(230,"translate"),i()()}if(p&2){let e=u();c("PageTitle","Shift.Shift"),t(5),r(" ",d(6,86,"Shift.StartCash")," "),t(2),c("ngIf",e.UpdateShift.IsOpen==!1),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(12,88,"Shift.EndCash")," "),t(2),c("ngIf",e.UpdateShift.IsOpen==!1),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(18,90,"Shift.NetCash")," "),t(3),r(" ",e.NetCash," "),t(3),r(" ",d(24,92,"Shift.StartVisa")," "),t(2),c("ngIf",e.UpdateShift.IsOpen==!1),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(30,94,"Shift.EndVisa")," "),t(2),c("ngIf",e.UpdateShift.IsOpen==!1),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(36,96,"Shift.NetVisa")," "),t(3),r(" ",e.NetVisa," "),t(2),c("ngIf",e.ConvertNumber(e.UpdateShift.EndCash)>=e.NetCash),t(),c("ngIf",e.ConvertNumber(e.UpdateShift.EndCash)<e.NetCash),t(2),r(" ",e.ConvertNumber(e.UpdateShift.EndCash)-e.NetCash," "),t(2),c("ngIf",e.ConvertNumber(e.UpdateShift.EndVisa)>=e.NetVisa),t(),c("ngIf",e.ConvertNumber(e.UpdateShift.EndVisa)<e.NetVisa),t(2),r(" ",e.ConvertNumber(e.UpdateShift.EndVisa)-e.NetVisa," "),t(3),r(" ",d(52,98,"Shift.StartDate")," "),t(3),r(" ",U(55,100,e.UpdateShift.StartDate,"d-M-yyyy h:mm:ss a")," "),t(4),r(" ",d(59,103,"Shift.CloseDate")," "),t(2),c("ngIf",e.UpdateShift.IsOpen==!1),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(65,105,"Shift.SaleAmount")," "),t(3),r(" ",e.UpdateShift.SaleAmount," "),t(3),r(" ",d(71,107,"Shift.SaleCashAmount")," "),t(3),r(" ",e.UpdateShift.SaleCashAmount," "),t(3),r(" ",d(77,109,"Shift.SaleVisaAmount")," "),t(3),r(" ",e.UpdateShift.SaleVisaAmount," "),t(3),r(" ",d(83,111,"Shift.SaleDebtAmount")," "),t(3),r(" ",e.UpdateShift.SaleDebtAmount," "),t(3),r(" ",d(89,113,"Shift.SaleDeliveryAmount")," "),t(3),r(" ",e.UpdateShift.SaleDeliveryAmount," "),t(3),r(" ",d(95,115,"Shift.BuyAmount")," "),t(3),r(" ",e.UpdateShift.BuyAmount," "),t(3),r(" ",d(101,117,"Shift.BuyVisaAmount")," "),t(3),r(" ",e.UpdateShift.BuyVisaAmount," "),t(3),r(" ",d(107,119,"Shift.BuyCashAmount")," "),t(3),r(" ",e.UpdateShift.BuyCashAmount," "),t(3),r(" ",d(113,121,"Shift.BuyDebtAmount")," "),t(3),r(" ",e.UpdateShift.BuyDebtAmount," "),t(3),r(" ",d(119,123,"Shift.ReturnBuyAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyAmount," "),t(3),r(" ",d(125,125,"Shift.ReturnBuyVisaAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyVisaAmount," "),t(3),r(" ",d(131,127,"Shift.ReturnBuyCashAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyCashAmount," "),t(3),r(" ",d(137,129,"Shift.ReturnBuyDebtAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyDebtAmount," "),t(3),r(" ",d(143,131,"Shift.ReturnSaleAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleAmount," "),t(3),r(" ",d(149,133,"Shift.ReturnSaleVisaAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleVisaAmount," "),t(3),r(" ",d(155,135,"Shift.ReturnSaleCashAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleCashAmount," "),t(3),r(" ",d(161,137,"Shift.ReturnSaleDebtAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleDebtAmount," "),t(3),r(" ",d(167,139,"Shift.TreasuryInCashAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryInCashAmount," "),t(3),r(" ",d(173,141,"Shift.TreasuryInVisaAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryInVisaAmount," "),t(3),r(" ",d(179,143,"Shift.TreasuryOutCashAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryOutCashAmount," "),t(3),r(" ",d(185,145,"Shift.TreasuryOutVisaAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryOutVisaAmount," "),t(3),r(" ",d(191,147,"Shift.SalesNo")," "),t(3),r(" ",e.UpdateShift.SaleInvoiceNo," "),t(3),r(" ",d(197,149,"Shift.BuyNo")," "),t(3),r(" ",e.UpdateShift.BuyInvoiceNo," "),t(3),r(" ",d(203,151,"Shift.ReturnBuyNo")," "),t(3),r(" ",e.UpdateShift.ReturnBuyInvoiceNo," "),t(3),r(" ",d(209,153,"Shift.ReturnSaleNo")," "),t(3),r(" ",e.UpdateShift.ReturnSaleInvoiceNo," "),t(3),r(" ",d(215,155,"Shift.TreasueyInNo")," "),t(3),r(" ",e.UpdateShift.TreasuryInNo," "),t(3),r(" ",d(221,157,"Shift.TreasueyOutNo")," "),t(3),r(" ",e.UpdateShift.TreasuryOutNo," "),t(2),c("ngIf",e.UpdateShift.IsOpen==!1),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(),c("ngIf",e.UpdateShift.IsOpen==!0),t(2),I(d(230,159,"Model.Close"))}}var et=(()=>{let S=class S{constructor(m,o,l){this._SharedObjectModelService=m,this._AppModeService=o,this._Apiservice=l,this._ServiceLifeTime=R(M),this.TablePaging={PageTitle:"Shift.Shift",AddUrl:"ShiftEP/Add",DeleteUrl:"ShiftEP/Delete",UpdateUrl:"ShiftEP/Update",GetById:"ShiftEP/GetById",Url:"Global/GetAll",TableName:"Shifts",BranchFilter:!0,Columns:["Id","Name","StartDate","CloseDate","IsOpen","StartCash"],TableCell:[{SortName:"Name",CellName:"Table.Name"},{SortName:"StartCash",CellName:"Shift.StartCash"},{SortName:"StartDate",CellName:"Shift.StartDate",CellDateTime:!0},{SortName:"CloseDate",CellName:"Shift.CloseDate",CellDateTime:!0},{SortName:"IsOpen",CellName:"Shift.IsOpen",DataBoolean:!0}]},this.NetCash=0,this.NetVisa=0,this.ShifthForm={IsOpen:!1,StartCash:"",EndCash:0,StartVisa:"",EndVisa:0,StartDate:"",CloseDate:null,TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,Id:0,Name:"",Code:"",TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",StartVisa:"",EndVisa:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnInit(){}ConvertNumber(m){return Number(m)}ShowToEdite(m){setTimeout(()=>{this._AppModeService._NgbModal.dismissAll(),this._AppModeService._NgbModal.open(this.ContentDeailsModel,{size:"xl",backdrop:"static"}),this.Drow(m.PageModel)},5)}Drow(m){let o=m;this.UpdateShift=o,this.NetCash=o.NetCash,this.NetVisa=o.NetVisa,this.UpdateShift.IsOpen==!0&&(this.UpdateShift.CloseDate="")}Send(){if(this.ShifthForm.Name.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.Name"));return}if(this.ShifthForm.StartDate==null){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.StartDate"));return}if(Number(this.ShifthForm.StartCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartCash"));return}if(Number(this.ShifthForm.StartVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartVisa"));return}let m={},o=Object.keys(this.ShifthForm),l=Object.values(this.ShifthForm);for(let h=0;h<o.length;h++)m[`${o[h]}`]=l[h];m.StartDate=this._Apiservice.ConvertISODate(this.ShifthForm.StartDate),m.StartCash=Number(this.ShifthForm.StartCash),m.StartVisa=Number(this.ShifthForm.StartVisa),m.EndVisa=0,m.EndCash=0,m.Id=0,m.CloseDate=null,this._Apiservice.post("ShiftEP/Add",m,!0).pipe(b(this._ServiceLifeTime.Destroyed$)).subscribe({next:h=>{this._AppModeService._Toastr.success(h.Message),this.ResetPage(),this.DynamicComponent.Paging.DataReturn.push(h.Obj)}})}Update(){let m={Id:this.UpdateShift.Id,StartCash:this.UpdateShift.StartCash,StartVisa:this.UpdateShift.StartVisa};this._Apiservice.put("ShiftEP/Update",m,!0).pipe(b(this._ServiceLifeTime.Destroyed$)).subscribe({next:o=>{this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let l=o.Obj,h=this.DynamicComponent.Paging.DataReturn.find(A=>A.Id==l.Id);h!=null&&Object.assign(h,l)}})}CloseShift(){if(this.UpdateShift.CloseDate==null||this.UpdateShift.CloseDate==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.CloseDate"));return}if(Number(this.ShifthForm.EndCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndCash"));return}if(Number(this.ShifthForm.EndVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndVisa"));return}let m={Id:this.UpdateShift.Id,CloseDate:this._Apiservice.ConvertISODate(this.UpdateShift.CloseDate),EndCash:this.UpdateShift.EndCash,EndVisa:this.UpdateShift.EndVisa};this._Apiservice.post("ShiftEP/Close",m,!0).pipe(b(this._ServiceLifeTime.Destroyed$)).subscribe({next:o=>{this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let l=o.Obj,h=this.DynamicComponent.Paging.DataReturn.find(A=>A.Id==l.Id);h!=null&&Object.assign(h,l)}})}Print(){window.open(`${j.UseHash==!0?"/#":""} /InvoiceReport?Name=ShiftReport&Id=${this.UpdateShift.Id}`,"_blank","width=700, height=700")}ResetPage(){this.ShifthForm={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnDestroy(){}};S.\u0275fac=function(o){return new(o||S)(V(oe),V(Z),V(Q))},S.\u0275cmp=O({type:S,selectors:[["app-shift"]],viewQuery:function(o,l){if(o&1&&(B(se,5),B(de,5),B(me,5)),o&2){let h;w(h=N())&&(l.DynamicComponent=h.first),w(h=N())&&(l.ContentModel=h.first),w(h=N())&&(l.ContentDeailsModel=h.first)}},standalone:!0,features:[F([M]),k],decls:6,vars:7,consts:[["dynamiccomponent",""],["content",""],["contentDeails",""],[3,"ShowToEditeEvent","PageTitle","TablePaging","AddUrl","GetById","UpdateUrl","DeleteUrl","OutModal"],[1,"col-12"],[3,"PageTitle"],[1,"modal-body","p-0","m-0"],[1,"d-flex","align-items-end","flex-wrap","mb-3"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","p-1"],["for","Name"],["type","text","id","Name",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","p-1"],["for","StartDate"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","ngModel","showTime","showIcon","showOnFocus","showOtherMonths"],["for","StartCash"],["min","0","type","number","appNumericInput","","id","StartCash",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],["for","StartVisa"],["min","0","type","number","appNumericInput","","id","StartVisa",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[3,"SaveEvent","CloseEvent","Id"],[1,"modal-body","text-center","row"],[1,"col-12","row"],[1,"col-12","col-md-2"],[1,"my-1","d-block"],["class","my-1 d-block",4,"ngIf"],["class","form-control text-center",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-12","col-md-2","text-center","px-2"],["class","my-1 d-block text-success",4,"ngIf"],["class","my-1 d-block text-danger",4,"ngIf"],[1,"d-block"],[1,"col-12","col-md-2","px-0"],[4,"ngIf"],["class","formdate",4,"ngIf"],[1,"modal-footer","bg-white","w-100"],["type","button","class","btn btn-Info",3,"click",4,"ngIf"],["type","button","class","btn btn-Refresh",3,"click",4,"ngIf"],["type","button","class","btn btn-Delete btn-Page",3,"click",4,"ngIf"],["type","button",1,"btn","btn-light","btn-Close","border","border-1","border-dark",3,"click"],[1,"form-control","text-center",3,"ngModelChange","ngModel"],[1,"my-1","d-block","text-success"],[1,"my-1","d-block","text-danger"],["type","button",1,"btn","btn-Info",3,"click"],["type","button",1,"btn","btn-Refresh",3,"click"],[1,"mx-1","pi","pi-save"],["type","button",1,"btn","btn-Delete","btn-Page",3,"click"]],template:function(o,l){if(o&1){let h=x();n(0,"app-dynamic-component",3,0),E("ShowToEditeEvent",function(le){return f(h),_(l.ShowToEdite(le))}),i(),C(2,ue,25,22,"ng-template",4,1,D)(4,we,231,161,"ng-template",4,2,D)}if(o&2){let h=P(3);c("PageTitle",l.TablePaging.PageTitle)("TablePaging",l.TablePaging)("AddUrl",l.TablePaging.AddUrl)("GetById",l.TablePaging.GetById)("UpdateUrl",l.TablePaging.UpdateUrl)("DeleteUrl",l.TablePaging.DeleteUrl)("OutModal",h)}},dependencies:[ie,q,G,X,H,Y,z,J,K,$,W,te,ee,L,pe,ne,ae,re],styles:["span.d-block[_ngcontent-%COMP%]{text-align:center!important}"]});let p=S;return p})();export{et as ShiftComponent};
