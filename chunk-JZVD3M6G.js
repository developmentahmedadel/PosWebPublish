import{b}from"./chunk-GTD5WNPP.js";import{c as f}from"./chunk-M24M3PNC.js";import{ca as d,ha as u}from"./chunk-VIO7ZK3G.js";var I=(()=>{let s=class s{constructor(e,i){this._AppModeService=e,this._Apiservice=i,this.SubscriptionArr=[],this.PageModel={Id:0},this.SecoundPageModel={Id:0},this.Gl={Id:0},this.Paging={PageSize:10,CurrentPage:1,TotalPages:0,TotalItems:0,DataReturn:[]},this.TotalItems=0,this.ReturnAmount=0,this.RemoveDuplicates=(n,t)=>{let o=new Set;return n.filter(a=>{let r=a[t];return o.has(r)?!1:(o.add(r),!0)}).sort((a,r)=>a[t]-r[t])}}ShowDocument(e,i){this._AppModeService.DisabledButton=!0;let n="",t="";e==1&&(n="SaleInvoices",t=`DocNo = ${i}`),e==2&&(n="ReturnSaleInvoice",t=`DocNo = ${i}`),e==3&&(n="BuyInvoices",t=`DocNo = ${i}`),e==4&&(n="ReturnBuyInvoice",t=`DocNo = ${i}`),e==5&&(n="Transfer",t=`DocNo = ${i}`),e==6&&(n="TreasuryIn",t=`DocNo = ${i}`),e==7&&(n="TreasuryOut",t=`DocNo = ${i}`),e==8&&(n="GLs",t=`DocType = 8 And DocNo = ${i}`),e==11&&(n="InventorySettlement",t=`DocNo = ${i}`),e==12&&(n="CreateInitGlRecept",t=`DocNo = ${i}`),e==13&&(n="SuppliersPermissions",t=`DocNo = ${i}`),e==14&&(n="BadDebts",t=`DocNo = ${i}`),e==15&&(n="TransferBranches",t=`DocNo = ${i}`),e==16&&(n="SalesDisount",t=`DocNo = ${i}`),e==17&&(n="StockDamaged",t=`DocNo = ${i}`);let o={TableName:n,Columns:["Id"],Conditions:t,BranchFilter:!0,NoPaging:!0},a=this._Apiservice.post("Global/GetAll",o,!1).subscribe({next:r=>{if(r.IsSuccess==!0&&r.Obj!=null){if(r.Obj.DataReturn[0]==null){this._AppModeService._Toastr.error("NotFound"),this._AppModeService.DisabledButton=!1;return}let w=r.Obj.DataReturn[0].Id;this.Redirect(e,w),this._AppModeService.DisabledButton=!1}else this._AppModeService.DisabledButton=!1,this._AppModeService._Toastr.error(r.Message)},error:r=>{this._AppModeService.DisabledButton=!1}});this.SubscriptionArr.push(a)}Redirect(e,i){e==1&&window.open(`/SaleInvoice?Id=${i}`,"_blank"),e==2&&window.open(`/ReturnSaleInvoice?Id=${i}`,"_blank"),e==3&&window.open(`/BuyInvoice?Id=${i}`,"_blank"),e==4&&window.open(`/ReturnBuyInvoice?Id=${i}`,"_blank"),e==5&&window.open(`/TransferStorage?Id=${i}`,"_blank"),e==6&&window.open(`/TreasuryIn?Id=${i}`,"_blank"),e==7&&window.open(`/TreasuryOut?Id=${i}`,"_blank"),e==8&&window.open(`/GeneralLedger?Id=${i}`,"_blank"),e==11&&window.open(`/InventorySettlement?Id=${i}`,"_blank"),e==12&&window.open(`/CreateInitGlRecept?Id=${i}`,"_blank"),e==13&&window.open(`/SuppliersPermissions?Id=${i}`,"_blank"),e==14&&window.open(`/BadDebts?Id=${i}`,"_blank"),e==15&&window.open(`/TransferBranches?Id=${i}`,"_blank")}};s.\u0275fac=function(i){return new(i||s)(u(b),u(f))},s.\u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"});let l=s;return l})();export{I as a};
