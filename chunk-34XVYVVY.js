import{c as q,d as z}from"./chunk-SU7IEUNK.js";import{c as V}from"./chunk-F7IHWOEY.js";import{c as k,d as N,s as E}from"./chunk-GJAIQ3XH.js";import{c as P,d as T,g as U,i as A,j,k as W,l as R,m as D,u as F,v as G}from"./chunk-UA6GT64L.js";import{C as L,G as x}from"./chunk-GOUT62LL.js";import{$b as g,Cb as a,Db as o,Eb as s,Mb as M,Qb as C,Rb as b,X as u,Xb as S,Zb as w,ac as h,bc as _,cc as B,db as c,dc as I,eb as m,ia as v,na as y,nc as p,oc as d,xb as O}from"./chunk-RH76WUG2.js";import"./chunk-3EYC4JTX.js";var le=(()=>{let r=class r{constructor(i,n,e){this._Router=i,this._AppModeService=n,this._Apiservice=e,this._ServiceLifeTime=v(P),this.UserName="",this.Password="",this.BranchId=null,this.Branches=[]}ngOnInit(){localStorage.removeItem("ERPUserToken"),localStorage.removeItem("UserToken"),this.GetBranches()}GetBranches(){this._Apiservice.get("Branch/GetAll").pipe(u(this._ServiceLifeTime.Destroyed$)).subscribe({next:i=>{this.Branches=i.Obj}})}SelectBranch(i){if(i>0){let n=this.Branches.find(e=>e.Id==i);n!=null&&(this.BranchId=n.Id)}}Send(){if(this.UserName.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Login.EnterUserName"));return}if(this.Password.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Login.EnterPassword"));return}if(this.BranchId==null){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Login.EnterBranch"));return}let i={UserName:this.UserName,Password:this.Password,BranchId:this.BranchId};this._Apiservice.post("User/Login",i,!0).pipe(u(this._ServiceLifeTime.Destroyed$)).subscribe({next:n=>{localStorage.removeItem("ERPUserToken"),localStorage.setItem("ERPUserToken",JSON.stringify(n.Obj.AccesToken)),this._Router.navigate(["/Dashboard"])}})}ngOnDestroy(){}};r.\u0275fac=function(n){return new(n||r)(m(L),m(V),m(T))},r.\u0275cmp=y({type:r,selectors:[["app-login"]],standalone:!0,features:[B([P]),I],decls:27,vars:17,consts:[[1,""],[1,"d-flex","flex-wrap","justify-content-center"],[1,"col-12","col-sm-6","divLogin","login-container"],[1,"col-12","col-md-9","mx-auto","form-container"],[1,"col-12"],[1,"user-box","form-group"],["type","text","name","UserName","required","",1,"form-control","my-3",3,"ngModelChange","ngModel","placeholder"],[1,"pi","pi-user"],["type","password","name","Password","required","",1,"form-control","my-3",3,"ngModelChange","ngModel","placeholder"],[1,"pi","pi-lock"],[1,"user-box"],["name","BranchId","bindLabel","Name","bindValue","Id",1,"p-0",3,"focusin","change","ngModelChange","items","placeholder","ngModel"],[1,"text-center","mt-4"],[1,"",3,"click"],[1,"col-12","col-sm-6","divImage"],["src","/assets/images/home2.png","alt",""],[1,"-box","col-12","col-md-6","col-lg-4"]],template:function(n,e){n&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"input",6),p(7,"translate"),_("ngModelChange",function(t){return h(e.UserName,t)||(e.UserName=t),t}),o(),s(8,"i",7),o(),a(9,"div",5)(10,"input",8),p(11,"translate"),_("ngModelChange",function(t){return h(e.Password,t)||(e.Password=t),t}),o(),s(12,"i",9),o(),a(13,"div",10)(14,"ng-select",11),p(15,"translate"),M("focusin",function(){return e.GetBranches()})("change",function(){return e.SelectBranch(e.BranchId)}),_("ngModelChange",function(t){return h(e.BranchId,t)||(e.BranchId=t),t}),o()(),a(16,"div",12)(17,"a",13),M("click",function(){return e.Send()}),s(18,"span")(19,"span")(20,"span")(21,"span"),S(22),p(23,"translate"),o()()()()(),a(24,"div",14),s(25,"img",15),o()(),s(26,"div",16),o()),n&2&&(c(6),C("placeholder",d(7,9,"Login.UserName")),g("ngModel",e.UserName),c(4),C("placeholder",d(11,11,"Login.Password")),g("ngModel",e.Password),c(4),b("placeholder","  ",d(15,13,"Employee.ChooseBranch"),""),O("items",e.Branches),g("ngModel",e.BranchId),c(8),w(" ",d(23,15,"Login.EnterLogin")," "))},dependencies:[E,z,q,G,D,U,A,j,F,R,W,N,k,x],styles:["section[_ngcontent-%COMP%]{margin:0;padding:0;height:auto;font-family:sans-serif}.divLogin[_ngcontent-%COMP%], .divImage[_ngcontent-%COMP%]{min-height:100vh}.divImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:100vh;max-height:100vh;width:100%;object-fit:cover}.divLogin[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.divLogin[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{border-radius:10px}.login-container[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]{padding:30px 40px;border-radius:10px;text-align:center}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;text-align:center;padding:12px 40px;border:1px solid #ddd;border-radius:5px;outline:none;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:15px;top:50%;transform:translateY(-50%);color:#aaa}form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;cursor:pointer;display:inline-block;padding:10px 40px;text-decoration:none;text-transform:uppercase;overflow:hidden;transition:.5s;margin-top:40px}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0;left:-100%;width:100%;height:2px;animation:_ngcontent-%COMP%_btn-anim1 1s linear infinite}@keyframes _ngcontent-%COMP%_btn-anim1{0%{left:-100%}50%,to{left:100%}}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:-100%;right:0;width:2px;height:100%;animation:_ngcontent-%COMP%_btn-anim2 1s linear infinite;animation-delay:.25s}@keyframes _ngcontent-%COMP%_btn-anim2{0%{top:-100%}50%,to{top:100%}}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:0;right:-100%;width:100%;height:2px;animation:_ngcontent-%COMP%_btn-anim3 1s linear infinite;animation-delay:.5s}@keyframes _ngcontent-%COMP%_btn-anim3{0%{right:-100%}50%,to{right:100%}}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){bottom:-100%;left:0;width:2px;height:100%;animation:_ngcontent-%COMP%_btn-anim4 1s linear infinite;animation-delay:.75s}@keyframes _ngcontent-%COMP%_btn-anim4{0%{bottom:-100%}50%,to{bottom:100%}}@media (max-width:768px){.divImage[_ngcontent-%COMP%]{display:none}section[_ngcontent-%COMP%]{background-image:url(/assets/images/home2.png);background-position:center!important;background-repeat:no-repeat!important;background-size:cover}.divLogin[_ngcontent-%COMP%]{width:90%}}"]});let f=r;return f})();export{le as LoginComponent};
