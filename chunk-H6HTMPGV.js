import{g as w}from"./chunk-OFZNSK7N.js";import{I as b}from"./chunk-CXJLKQ4R.js";import{X as f,ca as u,ha as d}from"./chunk-J5UB44FZ.js";var v=(()=>{let s=class s{constructor(e,i){this._AppModeService=e,this._Apiservice=i,this.PageModel={Id:0},this.SecoundPageModel={Id:0},this.Gl={Id:0},this.Paging={PageSize:10,CurrentPage:1,TotalPages:0,TotalItems:0,DataReturn:[]},this.TotalItems=0,this.ReturnAmount=0,this.RemoveDuplicates=(n,t)=>{let o=new Set;return n.filter(r=>{let a=r[t];return o.has(a)?!1:(o.add(a),!0)}).sort((r,a)=>r[t]-a[t])}}ShowDocument(e,i){this._AppModeService.DisabledButton=!0;let n="",t="";e==1&&(n="SaleInvoices",t=`DocNo = ${i}`),e==2&&(n="ReturnSaleInvoice",t=`DocNo = ${i}`),e==3&&(n="BuyInvoices",t=`DocNo = ${i}`),e==4&&(n="ReturnBuyInvoice",t=`DocNo = ${i}`),e==5&&(n="Transfer",t=`DocNo = ${i}`),e==6&&(n="TreasuryIn",t=`DocNo = ${i}`),e==7&&(n="TreasuryOut",t=`DocNo = ${i}`),e==8&&(n="GLs",t=`DocType = 8 And DocNo = ${i}`),e==11&&(n="InventorySettlement",t=`DocNo = ${i}`),e==12&&(n="CreateInitGlRecept",t=`DocNo = ${i}`),e==13&&(n="SuppliersPermissions",t=`DocNo = ${i}`),e==14&&(n="BadDebts",t=`DocNo = ${i}`),e==15&&(n="TransferBranches",t=`DocNo = ${i}`),e==16&&(n="SalesDisount",t=`DocNo = ${i}`),e==17&&(n="StockDamaged",t=`DocNo = ${i}`);let o={TableName:n,Columns:["Id"],Conditions:t,BranchFilter:!0,NoPaging:!0};this._Apiservice.post("Global/GetAll",o,!1).pipe(f(this._Apiservice.destroy$)).subscribe({next:r=>{if(r.IsSuccess==!0&&r.Obj!=null){if(r.Obj.DataReturn[0]==null){this._AppModeService._Toastr.error("NotFound"),this._AppModeService.DisabledButton=!1;return}let a=r.Obj.DataReturn[0].Id;this.Redirect(e,a),this._AppModeService.DisabledButton=!1}else this._AppModeService.DisabledButton=!1,this._AppModeService._Toastr.error(r.Message)},error:r=>{this._AppModeService.DisabledButton=!1}})}Redirect(e,i){e==1&&window.open(`/SaleInvoice?Id=${i}`,"_blank"),e==2&&window.open(`/ReturnSaleInvoice?Id=${i}`,"_blank"),e==3&&window.open(`/BuyInvoice?Id=${i}`,"_blank"),e==4&&window.open(`/ReturnBuyInvoice?Id=${i}`,"_blank"),e==5&&window.open(`/TransferStorage?Id=${i}`,"_blank"),e==6&&window.open(`/TreasuryIn?Id=${i}`,"_blank"),e==7&&window.open(`/TreasuryOut?Id=${i}`,"_blank"),e==8&&window.open(`/GeneralLedger?Id=${i}`,"_blank"),e==11&&window.open(`/InventorySettlement?Id=${i}`,"_blank"),e==12&&window.open(`/CreateInitGlRecept?Id=${i}`,"_blank"),e==13&&window.open(`/SuppliersPermissions?Id=${i}`,"_blank"),e==14&&window.open(`/BadDebts?Id=${i}`,"_blank"),e==15&&window.open(`/TransferBranches?Id=${i}`,"_blank")}};s.\u0275fac=function(i){return new(i||s)(d(w),d(b))},s.\u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"});let l=s;return l})();export{v as a};
