import{e as ze,j as vt}from"./chunk-A6MDEMU4.js";import"./chunk-3ZAIJ4IV.js";import"./chunk-Y5QDR55A.js";import"./chunk-VSYXDL23.js";import{c as mt,d as Ne,e as ge,g as gt,h as bt,i as Re,j as Fe,l as _t,m as Tt,n as Ct,x as yt}from"./chunk-BHSN7HFD.js";import"./chunk-6BJKXUWP.js";import"./chunk-3Y7UQ2M3.js";import{a as wt}from"./chunk-BHTRH7BV.js";import{a as De,b as pt,c as ht,g as ut,h as ft}from"./chunk-VUX2NRX2.js";import"./chunk-RXBBGPQB.js";import{a as ke}from"./chunk-GEJP5WQO.js";import{a as Me}from"./chunk-GNF256I6.js";import{d as st}from"./chunk-MZIKAFPE.js";import"./chunk-EGE4BGUH.js";import{a as E,f as ct,h as Ee,k as J,l as dt,o as m}from"./chunk-RVJIMCIT.js";import{c as at}from"./chunk-ITQ57RKD.js";import{c as tt,d as it}from"./chunk-KALZ37GW.js";import{c as et,f as nt,h as lt,k as ot,u as rt}from"./chunk-N4FWSTCP.js";import{G as Ye,b as Je,c as $,d as Xe,e as G,h as xe,i as q,k as Ze,l as me}from"./chunk-VTADEU6K.js";import{$b as pe,Ab as we,Bb as ce,Cb as u,Db as f,Eb as S,Ec as ne,Fa as Te,Fb as B,Ga as x,Gb as K,Hb as C,Ib as P,Jc as y,Ka as Ke,Kc as U,Mb as R,Nb as h,Qb as ve,Sb as je,Tb as D,Ub as k,Vb as M,Wb as ee,X as se,Xb as te,Yb as de,Zb as Se,ac as he,bc as ue,ca as Oe,cc as Ue,da as He,db as s,dc as We,eb as _,ec as Qe,f as Z,fc as F,gc as O,hc as $e,ic as Ie,jc as qe,kb as Ce,lb as ye,ma as g,na as A,nc as W,oa as Ae,oc as Q,qc as fe,rb as ie,vb as d,wa as Be,wb as Y,xa as w,xb as a,ya as v,yb as Ge}from"./chunk-J5UB44FZ.js";import{a as j,b as ae}from"./chunk-3EYC4JTX.js";var Ft=["container"],zt=["resizeHelper"],Vt=["reorderIndicatorUp"],Lt=["reorderIndicatorDown"],Pt=["table"],Ot=["scrollableView"],Ht=["scrollableFrozenView"],At=(i,o,e,n,t)=>({"p-treetable p-component":!0,"p-treetable-hoverable-rows":i,"p-treetable-auto-layout":o,"p-treetable-resizable":e,"p-treetable-resizable-fit":n,"p-treetable-flex-scrollable":t}),H=i=>({$implicit:i}),Bt=(i,o)=>({left:i,width:o}),Kt=i=>({width:i});function Gt(i,o){if(i&1&&S(0,"i"),i&2){let e=h(2);ce("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function jt(i,o){i&1&&S(0,"SpinnerIcon",24),i&2&&a("spin",!0)("styleClass","p-treetable-loading-icon")}function Ut(i,o){}function Wt(i,o){i&1&&d(0,Ut,0,0,"ng-template")}function Qt(i,o){if(i&1&&(u(0,"span",25),d(1,Wt,1,0,null,26),f()),i&2){let e=h(3);s(),a("ngTemplateOutlet",e.loadingIconTemplate)}}function $t(i,o){if(i&1&&(B(0),d(1,jt,1,2,"SpinnerIcon",22)(2,Qt,2,1,"span",23),K()),i&2){let e=h(2);s(),a("ngIf",!e.loadingIconTemplate),s(),a("ngIf",e.loadingIconTemplate)}}function qt(i,o){if(i&1&&(u(0,"div",18)(1,"div",19),d(2,Gt,1,2,"i",20)(3,$t,3,2,"ng-container",21),f()()),i&2){let e=h();s(2),a("ngIf",e.loadingIcon),s(),a("ngIf",!e.loadingIcon)}}function Jt(i,o){i&1&&C(0)}function Xt(i,o){if(i&1&&(u(0,"div",27),d(1,Jt,1,0,"ng-container",26),f()),i&2){let e=h();s(),a("ngTemplateOutlet",e.captionTemplate)}}function Zt(i,o){i&1&&C(0)}function Yt(i,o){if(i&1&&d(0,Zt,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function ei(i,o){i&1&&d(0,Yt,1,1,"ng-template",29)}function ti(i,o){i&1&&C(0)}function ii(i,o){if(i&1&&d(0,ti,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function ni(i,o){i&1&&d(0,ii,1,1,"ng-template",30)}function li(i,o){i&1&&C(0)}function oi(i,o){if(i&1&&d(0,li,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function ri(i,o){i&1&&d(0,oi,1,1,"ng-template",31)}function ai(i,o){i&1&&C(0)}function si(i,o){if(i&1&&d(0,ai,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function ci(i,o){i&1&&d(0,si,1,1,"ng-template",32)}function di(i,o){if(i&1){let e=P();u(0,"p-paginator",28),R("onPageChange",function(t){w(e);let l=h();return v(l.onPageChange(t))}),d(1,ei,1,0,null,21)(2,ni,1,0,null,21)(3,ri,1,0,null,21)(4,ci,1,0,null,21),f()}if(i&2){let e=h();a("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),s(),a("ngIf",e.paginatorFirstPageLinkIconTemplate),s(),a("ngIf",e.paginatorPreviousPageLinkIconTemplate),s(),a("ngIf",e.paginatorLastPageLinkIconTemplate),s(),a("ngIf",e.paginatorNextPageLinkIconTemplate)}}function pi(i,o){i&1&&C(0)}function hi(i,o){i&1&&C(0)}function ui(i,o){i&1&&C(0)}function fi(i,o){if(i&1&&(u(0,"div",33)(1,"table",34,1),d(3,pi,1,0,"ng-container",35),u(4,"thead",36),d(5,hi,1,0,"ng-container",35),f(),S(6,"tbody",37),u(7,"tfoot",38),d(8,ui,1,0,"ng-container",35),f()()()),i&2){let e=h();s(),a("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),s(2),a("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",F(10,H,e.columns)),s(2),a("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",F(12,H,e.columns)),s(),a("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate),s(2),a("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",F(14,H,e.columns))}}function mi(i,o){if(i&1&&S(0,"div",42,3),i&2){let e=h(2);a("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",F(4,Kt,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function gi(i,o){if(i&1&&(u(0,"div",39),d(1,mi,2,6,"div",40),S(2,"div",41,2),f()),i&2){let e=h();s(),a("ngIf",e.frozenColumns||e.frozenBodyTemplate),s(),a("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",O(5,Bt,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function bi(i,o){i&1&&C(0)}function _i(i,o){if(i&1&&d(0,bi,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function Ti(i,o){i&1&&d(0,_i,1,1,"ng-template",29)}function Ci(i,o){i&1&&C(0)}function yi(i,o){if(i&1&&d(0,Ci,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function wi(i,o){i&1&&d(0,yi,1,1,"ng-template",30)}function vi(i,o){i&1&&C(0)}function Si(i,o){if(i&1&&d(0,vi,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function Ii(i,o){i&1&&d(0,Si,1,1,"ng-template",31)}function xi(i,o){i&1&&C(0)}function Ei(i,o){if(i&1&&d(0,xi,1,0,"ng-container",26),i&2){let e=h(3);a("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function ki(i,o){i&1&&d(0,Ei,1,1,"ng-template",32)}function Mi(i,o){if(i&1){let e=P();u(0,"p-paginator",43),R("onPageChange",function(t){w(e);let l=h();return v(l.onPageChange(t))}),d(1,Ti,1,0,null,21)(2,wi,1,0,null,21)(3,Ii,1,0,null,21)(4,ki,1,0,null,21),f()}if(i&2){let e=h();a("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),s(),a("ngIf",e.paginatorFirstPageLinkIconTemplate),s(),a("ngIf",e.paginatorPreviousPageLinkIconTemplate),s(),a("ngIf",e.paginatorLastPageLinkIconTemplate),s(),a("ngIf",e.paginatorNextPageLinkIconTemplate)}}function Di(i,o){i&1&&C(0)}function Ni(i,o){if(i&1&&(u(0,"div",44),d(1,Di,1,0,"ng-container",26),f()),i&2){let e=h();s(),a("ngTemplateOutlet",e.summaryTemplate)}}function Ri(i,o){i&1&&S(0,"div",45,4)}function Fi(i,o){i&1&&S(0,"ArrowDownIcon")}function zi(i,o){}function Vi(i,o){i&1&&d(0,zi,0,0,"ng-template")}function Li(i,o){if(i&1&&(u(0,"span",46,5),d(2,Fi,1,0,"ArrowDownIcon",21)(3,Vi,1,0,null,26),f()),i&2){let e=h();s(2),a("ngIf",!e.reorderIndicatorUpIconTemplate),s(),a("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function Pi(i,o){i&1&&S(0,"ArrowUpIcon")}function Oi(i,o){}function Hi(i,o){i&1&&d(0,Oi,0,0,"ng-template")}function Ai(i,o){if(i&1&&(u(0,"span",47,6),d(2,Pi,1,0,"ArrowUpIcon",21)(3,Hi,1,0,null,26),f()),i&2){let e=h();s(2),a("ngIf",!e.reorderIndicatorDownIconTemplate),s(),a("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}var Bi=["pTreeTableBody",""],Ki=(i,o,e,n)=>({$implicit:i,node:o,rowData:e,columns:n}),Gi=(i,o)=>({$implicit:i,frozen:o});function ji(i,o){i&1&&C(0)}function Ui(i,o){if(i&1&&(B(0),d(1,ji,1,0,"ng-container",2),K()),i&2){let e=h().$implicit,n=h();s(),a("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Ie(2,Ki,e,e.node,e.node.data,n.columns))}}function Wi(i,o){if(i&1&&d(0,Ui,2,7,"ng-container",1),i&2){let e=o.$implicit;a("ngIf",e.visible)}}function Qi(i,o){i&1&&C(0)}function $i(i,o){if(i&1&&(B(0),d(1,Qi,1,0,"ng-container",2),K()),i&2){let e=h();s(),a("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",O(2,Gi,e.columns,e.frozen))}}var qi=["scrollHeader"],Ji=["scrollHeaderBox"],Xi=["scrollBody"],Zi=["scrollTable"],Yi=["loadingTable"],en=["scrollFooter"],tn=["scrollFooterBox"],nn=["scrollableAligner"],ln=["scroller"],on=["ttScrollableView",""],rn=i=>({height:i}),St=(i,o)=>({$implicit:i,options:o}),an=i=>({options:i}),sn=(i,o)=>({"max-height":i,"overflow-y":o}),cn=()=>({});function dn(i,o){i&1&&C(0)}function pn(i,o){i&1&&C(0)}function hn(i,o){i&1&&C(0)}function un(i,o){if(i&1&&d(0,hn,1,0,"ng-container",12),i&2){let e=o.$implicit,n=o.options;h(2);let t=ee(11);a("ngTemplateOutlet",t)("ngTemplateOutletContext",O(2,St,e,n))}}function fn(i,o){i&1&&C(0)}function mn(i,o){if(i&1&&d(0,fn,1,0,"ng-container",12),i&2){let e=o.options,n=h(3);a("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",F(2,an,e))}}function gn(i,o){i&1&&(B(0),d(1,mn,1,4,"ng-template",19),K())}function bn(i,o){if(i&1){let e=P();u(0,"p-scroller",17,3),R("onLazyLoad",function(t){w(e);let l=h();return v(l.tt.onLazyItemLoad(t))}),d(2,un,1,5,"ng-template",18)(3,gn,2,0,"ng-container",15),f()}if(i&2){let e=h();we(F(8,rn,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),a("items",e.tt.serializedValue)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),s(3),a("ngIf",e.loaderTemplate)}}function _n(i,o){i&1&&C(0)}function Tn(i,o){if(i&1&&(B(0),u(1,"div",20,4),d(3,_n,1,0,"ng-container",12),f(),K()),i&2){let e=h(),n=ee(11);s(),a("ngStyle",O(3,sn,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),s(2),a("ngTemplateOutlet",n)("ngTemplateOutletContext",O(7,St,e.serializedValue,Qe(6,cn)))}}function Cn(i,o){i&1&&C(0)}function yn(i,o){i&1&&S(0,"div",24,6)}function wn(i,o){if(i&1&&(u(0,"table",21,5),d(2,Cn,1,0,"ng-container",12),S(3,"tbody",22),f(),d(4,yn,2,0,"div",23)),i&2){let e=o.$implicit,n=o.options,t=h();we(n.contentStyle),ce(t.tt.tableStyleClass),a("ngClass",n.contentStyleClass)("ngStyle",t.tt.tableStyle),s(2),a("ngTemplateOutlet",t.frozen&&t.tt.frozenColGroupTemplate||t.tt.colGroupTemplate)("ngTemplateOutletContext",F(13,H,t.columns)),s(),a("pTreeTableBody",t.columns)("pTreeTableBodyTemplate",t.frozen&&t.tt.frozenBodyTemplate||t.tt.bodyTemplate)("serializedNodes",e)("frozen",t.frozen),s(),a("ngIf",t.frozen)}}function vn(i,o){i&1&&C(0)}function Sn(i,o){i&1&&C(0)}function In(i,o){if(i&1&&(u(0,"div",25,7)(2,"div",26,8)(4,"table",27),d(5,vn,1,0,"ng-container",12),u(6,"tfoot",28),d(7,Sn,1,0,"ng-container",12),f()()()()),i&2){let e=h();s(4),a("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),s(),a("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",F(6,H,e.columns)),s(2),a("ngTemplateOutlet",e.frozen&&e.tt.frozenFooterTemplate||e.tt.footerTemplate)("ngTemplateOutletContext",F(8,H,e.columns))}}var xn=(i,o)=>({"p-checkbox-focused":i,"p-variant-filled":o}),En=(i,o,e,n)=>({"p-checkbox-box":!0,"p-highlight":i,"p-focus":o,"p-indeterminate":e,"p-disabled":n}),kn=(i,o)=>({$implicit:i,partialSelected:o});function Mn(i,o){i&1&&S(0,"CheckIcon",7),i&2&&a("styleClass","p-checkbox-icon")}function Dn(i,o){i&1&&S(0,"MinusIcon",7),i&2&&a("styleClass","p-checkbox-icon")}function Nn(i,o){if(i&1&&(B(0),d(1,Mn,1,1,"CheckIcon",6)(2,Dn,1,1,"MinusIcon",6),K()),i&2){let e=h();s(),a("ngIf",e.checked),s(),a("ngIf",e.partialChecked)}}function Rn(i,o){}function Fn(i,o){i&1&&d(0,Rn,0,0,"ng-template")}function zn(i,o){if(i&1&&(u(0,"span"),d(1,Fn,1,0,null,8),f()),i&2){let e=h();s(),a("ngTemplateOutlet",e.tt.checkboxIconTemplate)("ngTemplateOutletContext",O(2,kn,e.checked,e.partialChecked))}}var Vn=["box"],Ln=i=>({"p-checkbox-focused":i}),Pn=(i,o,e)=>({"p-checkbox-box":!0,"p-highlight":i,"p-focus":o,"p-disabled":e});function On(i,o){i&1&&S(0,"CheckIcon",9),i&2&&a("styleClass","p-checkbox-icon")}function Hn(i,o){if(i&1&&(B(0),d(1,On,1,1,"CheckIcon",8),K()),i&2){let e=h();s(),a("ngIf",e.checked)}}function An(i,o){}function Bn(i,o){i&1&&d(0,An,0,0,"ng-template")}function Kn(i,o){if(i&1&&(u(0,"span",10),d(1,Bn,1,0,null,11),f()),i&2){let e=h();s(),a("ngTemplateOutlet",e.tt.headerCheckboxIconTemplate)("ngTemplateOutletContext",F(2,H,e.checked))}}function Gn(i,o){i&1&&S(0,"ChevronDownIcon"),i&2&&Y("aria-hidden",!0)}function jn(i,o){i&1&&S(0,"ChevronRightIcon"),i&2&&Y("aria-hidden",!0)}function Un(i,o){if(i&1&&(B(0),d(1,Gn,1,1,"ChevronDownIcon",1)(2,jn,1,1,"ChevronRightIcon",1),K()),i&2){let e=h();s(),a("ngIf",e.rowNode.node.expanded),s(),a("ngIf",!e.rowNode.node.expanded)}}function Wn(i,o){}function Qn(i,o){i&1&&d(0,Wn,0,0,"ng-template")}var le=(()=>{class i{sortSource=new Z;selectionSource=new Z;contextMenuSource=new Z;uiUpdateSource=new Z;totalRecordsSource=new Z;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Oe({token:i,factory:i.\u0275fac})}return i})(),X=(()=>{class i{document;renderer;el;cd;zone;tableService;filterService;config;columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,n)=>n;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}selectionChange=new x;contextMenuSelectionChange=new x;onFilter=new x;onNodeExpand=new x;onNodeCollapse=new x;onPage=new x;onSort=new x;onLazyLoad=new x;sortFunction=new x;onColResize=new x;onColReorder=new x;onNodeSelect=new x;onNodeUnselect=new x;onContextMenuSelect=new x;onHeaderCheckboxToggle=new x;onEditInit=new x;onEditComplete=new x;onEditCancel=new x;selectionKeysChange=new x;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;templates;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;colGroupTemplate;captionTemplate;headerTemplate;bodyTemplate;footerTemplate;summaryTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;togglerIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break}})}constructor(e,n,t,l,r,c,p,b){this.document=e,this.renderer=n,this.el=t,this.cd=l,this.zone=r,this.tableService=c,this.filterService=p,this.config=b}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,n,t,l){if(n&&n.length)for(let r of n){r.parent=e;let c={node:r,parent:e,level:t,visible:l&&(e?e.expanded:!0)};this.serializedValue.push(c),c.visible&&r.expanded&&this.serializeNodes(r,r.children,t+1,c.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let n=this.lazy?0:this.first;for(let t=n;t<n+this.rows;t++){let l=e[t];l&&(this.serializedValue.push({node:l,parent:null,level:0,visible:!0}),this.serializeNodes(l,l.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(E.resolveFieldData(e.data,this.dataKey))]=1;else this.selectedKeys[String(E.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let n=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let t=n.metaKey||n.ctrlKey,l=this.getSortMeta(e.field);l?t?l.order=l.order*-1:(this._multiSortMeta=[{field:e.field,order:l.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!t||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((n,t)=>{let l=E.resolveFieldData(n.data,this.sortField),r=E.resolveFieldData(t.data,this.sortField),c=null;return l==null&&r!=null?c=-1:l!=null&&r==null?c=1:l==null&&r==null?c=0:typeof l=="string"&&typeof r=="string"?c=l.localeCompare(r,void 0,{numeric:!0}):c=l<r?-1:l>r?1:0,this.sortOrder*c});for(let n of e)this.sortNodes(n.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((n,t)=>this.multisortField(n,t,this.multiSortMeta,0));for(let n of e)this.sortMultipleNodes(n.children)}}multisortField(e,n,t,l){if(E.isEmpty(this.multiSortMeta)||E.isEmpty(t[l]))return 0;let r=E.resolveFieldData(e.data,t[l].field),c=E.resolveFieldData(n.data,t[l].field),p=null;if(r==null&&c!=null?p=-1:r!=null&&c==null?p=1:r==null&&c==null&&(p=0),typeof r=="string"||r instanceof String){if(r.localeCompare&&r!=c)return t[l].order*r.localeCompare(c,void 0,{numeric:!0})}else p=r<c?-1:1;return r==c?t.length-1>l?this.multisortField(e,n,t,l+1):0:t[l].order*p}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field===e)return this.multiSortMeta[n]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let n=!1;if(this.multiSortMeta){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field==e){n=!0;break}}return n}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(ae(j(j({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let n=m.getOffset(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-n+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let n=m.getOffset(this.containerViewChild?.nativeElement).left;m.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-n+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,n){let t=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,l=n.offsetWidth,r=l+t,c=n.style.minWidth||15;if(l+t>parseInt(c)){if(this.columnResizeMode==="fit"){let p=n.nextElementSibling;for(;!p.offsetParent;)p=p.nextElementSibling;if(p){let b=p.offsetWidth-t,T=p.style.minWidth||15;if(r>15&&b>parseInt(T))if(this.scrollable){let N=this.findParentScrollableView(n),I=m.findSingle(N,".p-treetable-scrollable-body table")||m.findSingle(N,".p-scroller-viewport table"),z=m.findSingle(N,"table.p-treetable-scrollable-header-table"),V=m.findSingle(N,"table.p-treetable-scrollable-footer-table"),L=m.index(n);this.resizeColGroup(z,L,r,b),this.resizeColGroup(I,L,r,b),this.resizeColGroup(V,L,r,b)}else n.style.width=r+"px",p&&(p.style.width=b+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let p=this.findParentScrollableView(n),b=m.findSingle(p,".p-treetable-scrollable-body")||m.findSingle(p,".p-scroller-viewport"),T=m.findSingle(p,".p-treetable-scrollable-header"),N=m.findSingle(p,".p-treetable-scrollable-footer"),I=m.findSingle(p,".p-treetable-scrollable-body table")||m.findSingle(p,".p-scroller-viewport table"),z=m.findSingle(p,"table.p-treetable-scrollable-header-table"),V=m.findSingle(p,"table.p-treetable-scrollable-footer-table");I.style.width=I.offsetWidth+t+"px",z.style.width=z.offsetWidth+t+"px",V&&(V.style.width=V.offsetWidth+t+"px");let L=m.index(n),oe=n?I.offsetWidth+t:r,re=n?z.offsetWidth+t:r,be=this.containerViewChild?.nativeElement.offsetWidth>=oe,_e=(Ve,Le,Pe,Dt)=>{Ve&&Le&&(Ve.style.width=Dt?Pe+m.calculateScrollbarWidth(b)+"px":"auto",Le.style.width=Pe+"px")};_e(b,I,oe,be),_e(T,z,re,be),_e(N,V,re,be),this.resizeColGroup(z,L,r,null),this.resizeColGroup(I,L,r,null),this.resizeColGroup(V,L,r,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+t+"px",n.style.width=r+"px";let p=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=p+"px"}this.onColResize.emit({element:n,delta:t})}this.resizeHelperViewChild.nativeElement.style.display="none",m.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let n=e.parentElement;for(;n&&!m.hasClass(n,"p-treetable-scrollable-view");)n=n.parentElement;return n}else return null}resizeColGroup(e,n,t,l){if(e){let r=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(r){let c=r.children[n],p=c.nextElementSibling;c.style.width=t+"px",p&&l&&(p.style.width=l+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,n){this.reorderIconWidth=m.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=m.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=n,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,n){if(this.reorderableColumns&&this.draggedColumn&&n){e.preventDefault();let t=m.getOffset(this.containerViewChild?.nativeElement),l=m.getOffset(n);if(this.draggedColumn!=n){let r=l.left-t.left,c=t.top-l.top,p=l.left+n.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-t.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-t.top+n.offsetHeight+"px",e.pageX>p?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+n.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+n.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,n){if(e.preventDefault(),this.draggedColumn){let t=m.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),l=m.indexWithinGroup(n,"ttreorderablecolumn"),r=t!=l;r&&(l-t==1&&this.dropPosition===-1||t-l==1&&this.dropPosition===1)&&(r=!1),r&&l<t&&this.dropPosition===1&&(l=l+1),r&&l>t&&this.dropPosition===-1&&(l=l-1),r&&(E.reorderArray(this.columns,t,l),this.onColReorder.emit({dragIndex:t,dropIndex:l,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let n=e.originalEvent.target.nodeName;if(!(n=="INPUT"||n=="BUTTON"||n=="A"||m.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let t=e.rowNode,l=this.isSelected(t.node),r=this.rowTouched?!1:this.metaKeySelection,c=this.dataKey?String(E.resolveFieldData(t.node.data,this.dataKey)):null;if(r){let p=e.originalEvent,b=p.metaKey||p.ctrlKey;if(l&&b){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let T=this.findIndexInSelection(t.node);this._selection=this.selection.filter((N,I)=>I!=T),this.selectionChange.emit(this.selection),c&&delete this.selectedKeys[c]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:t.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=t.node,this.selectionChange.emit(t.node),c&&(this.selectedKeys={},this.selectedKeys[c]=1)):this.isMultipleSelectionMode()&&(b?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,t.node],this.selectionChange.emit(this.selection),c&&(this.selectedKeys[c]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:t.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:t.node,type:"row"})):(this._selection=t.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:t.node,type:"row",index:e.rowIndex}),c&&(this.selectedKeys={},this.selectedKeys[c]=1));else if(this.selectionMode==="multiple")if(l){let p=this.findIndexInSelection(t.node);this._selection=this.selection.filter((b,T)=>T!=p),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:t.node,type:"row"}),c&&delete this.selectedKeys[c]}else this._selection=this.selection?[...this.selection,t.node]:[t.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:t.node,type:"row",index:e.rowIndex}),c&&(this.selectedKeys[c]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let n=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=n,this.contextMenuSelectionChange.emit(n),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:n}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(n);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let t=this.isSelected(n),l=this.dataKey?String(E.resolveFieldData(n.data,this.dataKey)):null;t||(this.isSingleSelectionMode()?(this.selection=n,this.selectionChange.emit(n)):this.isMultipleSelectionMode()&&(this.selection=[n],this.selectionChange.emit(this.selection)),l&&(this.selectedKeys[l]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:n})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let n=e.rowNode.node;this.isSelected(n)?(this.propagateSelectionDown(n,!1),e.rowNode.parent&&this.propagateSelectionUp(n.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:n})):(this.propagateSelectionDown(n,!0),e.rowNode.parent&&this.propagateSelectionUp(n.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:n})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,n){let t=this.filteredNodes||this.value;this._selection=n&&t?t.slice():[],this.toggleAll(n),n||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:n})}toggleAll(e){let n=this.filteredNodes||this.value;if(this.selectionKeys){if(n&&n.length){for(let t of n)this.propagateDown(t,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(n&&n.length)for(let t of n)this.propagateSelectionDown(t,e)}propagateSelectionUp(e,n){if(e.children&&e.children.length){let l=0,r=!1,c=this.dataKey?String(E.resolveFieldData(e.data,this.dataKey)):null;for(let p of e.children)this.isSelected(p)?l++:p.partialSelected&&(r=!0);if(n&&l==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,c&&(this.selectedKeys[c]=1);else{if(!n){let p=this.findIndexInSelection(e);p>=0&&(this._selection=this.selection.filter((b,T)=>T!=p),c&&delete this.selectedKeys[c])}r||l>0&&l!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let t=e.parent;e.checked=n,t&&this.propagateSelectionUp(t,n)}propagateSelectionDown(e,n){let t=this.findIndexInSelection(e),l=this.dataKey?String(E.resolveFieldData(e.data,this.dataKey)):null;if(n&&t==-1?(this._selection=[...this.selection||[],e],l&&(this.selectedKeys[l]=1)):!n&&t>-1&&(this._selection=this.selection.filter((r,c)=>c!=t),l&&delete this.selectedKeys[l]),e.partialSelected=!1,e.checked=n,e.children&&e.children.length)for(let r of e.children)this.propagateSelectionDown(r,n)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[E.resolveFieldData(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return E.resolveFieldData(e,this.dataKey)||E.resolveFieldData(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:n,check:t,originalEvent:l}=e,r=n.node;this.selectionKeys?(this.propagateDown(r,t),r.parent&&this.propagateUp(r.parent,t),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:l,rowNode:n}),this.tableService.onSelectionChange()}propagateDown(e,n){if(n?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let t of e.children)this.propagateDown(t,n)}propagateUp(e,n){let t=0,l=!1;for(let c of e.children)this.selectionKeys[this.nodeKey(c)]&&this.selectionKeys[this.nodeKey(c)].checked?t++:this.selectionKeys[this.nodeKey(c)]&&this.selectionKeys[this.nodeKey(c)].partialChecked&&(l=!0);n&&t===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(n||delete this.selectionKeys[this.nodeKey(e)],l||t>0&&t!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let r=e.parent;r&&this.propagateUp(r,n)}findIndexInSelection(e){let n=-1;if(this.selection&&this.selection.length){for(let t=0;t<this.selection.length;t++)if(this.equals(e,this.selection[t])){n=t;break}}return n}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,n){return this.compareSelectionBy==="equals"?E.equals(e,n):E.equals(e.data,n.data,this.dataKey)}filter(e,n,t){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[n]&&delete this.filters[n]:this.filters[n]={value:e,matchMode:t},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,n){this.filter(e,"global",n)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let n;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");n=this.globalFilterFields||this.columns}this.filteredNodes=[];let t=this.filterMode==="strict",l=!1;for(let r of this.value){let c=j({},r),p=!0,b=!1,T;for(let I in this.filters)if(this.filters.hasOwnProperty(I)&&I!=="global"){let z=this.filters[I],V=I,L=z.value,oe=z.matchMode||"startsWith",re=this.filterService.filters[oe];if(T={filterField:V,filterValue:L,filterConstraint:re,isStrictMode:t},(t&&!(this.findFilteredNodes(c,T)||this.isFilterMatched(c,T))||!t&&!(this.isFilterMatched(c,T)||this.findFilteredNodes(c,T)))&&(p=!1),!p)break}if(this.filters.global&&!b&&n){let I=j({},c),z,V=this.filters.global.value,L=this.filterService.filters[this.filters.global.matchMode];T={filterField:z,filterValue:V,filterConstraint:L,isStrictMode:t,globalFilterFieldsArray:n},(t&&(this.findFilteredNodes(I,T)||this.isFilterMatched(I,T))||!t&&(this.isFilterMatched(I,T)||this.findFilteredNodes(I,T)))&&(b=!0,c=I)}let N=p;this.filters.global&&(N=p&&b),N&&this.filteredNodes.push(c),l=l||!p||b||p&&this.filteredNodes.length>0||!b&&this.filteredNodes.length===0}l||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,n){if(e){let t=!1;if(e.children){let l=[...e.children];e.children=[];for(let r of l){let c=j({},r);this.isFilterMatched(c,n)&&(t=!0,e.children.push(c))}}if(t)return!0}}isFilterMatched(e,n){let{filterField:t,filterValue:l,filterConstraint:r,isStrictMode:c,globalFilterFieldsArray:p}=n,b=!1,T=N=>r(E.resolveFieldData(e.data,N),l,this.filterLocale);return b=p?.length?p.some(N=>T(N.field||N)):T(t),(!b||c&&!this.isNodeLeaf(e))&&(b=this.findFilteredNodes(e,{filterField:t,filterValue:l,filterConstraint:r,isStrictMode:c,globalFilterFieldsArray:p})||b),b}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let n in this.filters)if(this.filters.hasOwnProperty(n)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,n,t){this.editingCell=e,this.editingCellData=n,this.editingCellField=t,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&m.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(m.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=function(n){return new(n||i)(_(Je),_(Ce),_(Te),_(ne),_(ye),_(le),_(ct),_(Ee))};static \u0275cmp=A({type:i,selectors:[["p-treeTable"]],contentQueries:function(n,t,l){if(n&1&&je(l,J,4),n&2){let r;k(r=M())&&(t.templates=r)}},viewQuery:function(n,t){if(n&1&&(D(Ft,5),D(zt,5),D(Vt,5),D(Lt,5),D(Pt,5),D(Ot,5),D(Ht,5)),n&2){let l;k(l=M())&&(t.containerViewChild=l.first),k(l=M())&&(t.resizeHelperViewChild=l.first),k(l=M())&&(t.reorderIndicatorUpViewChild=l.first),k(l=M())&&(t.reorderIndicatorDownViewChild=l.first),k(l=M())&&(t.tableViewChild=l.first),k(l=M())&&(t.scrollableViewChild=l.first),k(l=M())&&(t.scrollableFrozenViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[g.HasDecoratorInputTransform,"autoLayout","autoLayout",y],lazy:[g.HasDecoratorInputTransform,"lazy","lazy",y],lazyLoadOnInit:[g.HasDecoratorInputTransform,"lazyLoadOnInit","lazyLoadOnInit",y],paginator:[g.HasDecoratorInputTransform,"paginator","paginator",y],rows:[g.HasDecoratorInputTransform,"rows","rows",U],first:[g.HasDecoratorInputTransform,"first","first",U],pageLinks:[g.HasDecoratorInputTransform,"pageLinks","pageLinks",U],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[g.HasDecoratorInputTransform,"alwaysShowPaginator","alwaysShowPaginator",y],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[g.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",y],showJumpToPageDropdown:[g.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",y],showFirstLastIcon:[g.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",y],showPageLinks:[g.HasDecoratorInputTransform,"showPageLinks","showPageLinks",y],defaultSortOrder:[g.HasDecoratorInputTransform,"defaultSortOrder","defaultSortOrder",U],sortMode:"sortMode",resetPageOnSort:[g.HasDecoratorInputTransform,"resetPageOnSort","resetPageOnSort",y],customSort:[g.HasDecoratorInputTransform,"customSort","customSort",y],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[g.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",y],compareSelectionBy:"compareSelectionBy",rowHover:[g.HasDecoratorInputTransform,"rowHover","rowHover",y],loading:[g.HasDecoratorInputTransform,"loading","loading",y],loadingIcon:"loadingIcon",showLoader:[g.HasDecoratorInputTransform,"showLoader","showLoader",y],scrollable:[g.HasDecoratorInputTransform,"scrollable","scrollable",y],scrollHeight:"scrollHeight",virtualScroll:[g.HasDecoratorInputTransform,"virtualScroll","virtualScroll",y],virtualScrollItemSize:[g.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",U],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[g.HasDecoratorInputTransform,"virtualScrollDelay","virtualScrollDelay",U],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[g.HasDecoratorInputTransform,"resizableColumns","resizableColumns",y],columnResizeMode:"columnResizeMode",reorderableColumns:[g.HasDecoratorInputTransform,"reorderableColumns","reorderableColumns",y],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[g.HasDecoratorInputTransform,"filterDelay","filterDelay",U],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},features:[Ue([le]),ie,Be],decls:12,vars:20,consts:[["container",""],["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-treetable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-treetable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",2,"display","none"],[1,"p-treetable-reorder-indicator-up",2,"display","none"],[1,"p-treetable-reorder-indicator-down",2,"display","none"]],template:function(n,t){n&1&&(u(0,"div",7,0),d(2,qt,4,2,"div",8)(3,Xt,2,1,"div",9)(4,di,5,21,"p-paginator",10)(5,fi,9,16,"div",11)(6,gi,4,8,"div",12)(7,Mi,5,21,"p-paginator",13)(8,Ni,2,1,"div",14)(9,Ri,2,0,"div",15)(10,Li,4,2,"span",16)(11,Ai,4,2,"span",17),f()),n&2&&(ce(t.styleClass),a("ngStyle",t.style)("ngClass",qe(14,At,t.rowHover||t.selectionMode==="single"||t.selectionMode==="multiple",t.autoLayout,t.resizableColumns,t.resizableColumns&&t.columnResizeMode==="fit",t.scrollable&&t.scrollHeight==="flex")),s(2),a("ngIf",t.loading&&t.showLoader),s(),a("ngIf",t.captionTemplate),s(),a("ngIf",t.paginator&&(t.paginatorPosition==="top"||t.paginatorPosition=="both")),s(),a("ngIf",!t.scrollable),s(),a("ngIf",t.scrollable),s(),a("ngIf",t.paginator&&(t.paginatorPosition==="bottom"||t.paginatorPosition=="both")),s(),a("ngIf",t.summaryTemplate),s(),a("ngIf",t.resizableColumns),s(),a("ngIf",t.reorderableColumns),s(),a("ngIf",t.reorderableColumns))},dependencies:()=>[$,G,q,xe,gt,J,De,Re,Fe,$n,It],styles:[`@layer primeng{.p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden;flex-shrink:0}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-treetable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return i})(),It=(()=>{class i{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,n,t){this.tt=e,this.treeTableService=n,this.cd=t,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,n){return this.tt.virtualScroll?(n=n||this.scrollerOptions,n?n[e]:null):null}getRowIndex(e){let n=this.getScrollerOption("getItemOptions");return n?n(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(_(X),_(le),_(ne))};static \u0275cmp=A({type:i,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[g.None,"pTreeTableBody","columns"],template:[g.None,"pTreeTableBodyTemplate","template"],frozen:[g.HasDecoratorInputTransform,"frozen","frozen",y],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},features:[ie],attrs:Bi,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){n&1&&d(0,Wi,1,1,"ng-template",0)(1,$i,2,5,"ng-container",1),n&2&&(a("ngForOf",t.serializedNodes||t.tt.serializedValue)("ngForTrackBy",t.tt.rowTrackBy),s(),a("ngIf",t.tt.isEmpty()))},dependencies:[Xe,G,q],encapsulation:2})}return i})(),$n=(()=>{class i{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,n,t,l,r){this.platformId=e,this.renderer=n,this.tt=t,this.el=l,this.zone=r}ngAfterViewInit(){if(me(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=m.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&m.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;e&&(this.tt.virtualScroll?this.frozenSiblingBody=m.findSingle(e,".p-scroller-viewport"):this.frozenSiblingBody=m.findSingle(e,".p-treetable-scrollable-body"));let n=m.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=n+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=n+"px")}this.bindEvents()}}bindEvents(){me(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){me(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(n){return new(n||i)(_(Ke),_(Ce),_(X),_(Te),_(ye))};static \u0275cmp=A({type:i,selectors:[["","ttScrollableView",""]],viewQuery:function(n,t){if(n&1&&(D(qi,5),D(Ji,5),D(Xi,5),D(Zi,5),D(Yi,5),D(en,5),D(tn,5),D(nn,5),D(ln,5)),n&2){let l;k(l=M())&&(t.scrollHeaderViewChild=l.first),k(l=M())&&(t.scrollHeaderBoxViewChild=l.first),k(l=M())&&(t.scrollBodyViewChild=l.first),k(l=M())&&(t.scrollTableViewChild=l.first),k(l=M())&&(t.scrollLoadingTableViewChild=l.first),k(l=M())&&(t.scrollFooterViewChild=l.first),k(l=M())&&(t.scrollFooterBoxViewChild=l.first),k(l=M())&&(t.scrollableAlignerViewChild=l.first),k(l=M())&&(t.scroller=l.first)}},hostAttrs:[1,"p-element"],inputs:{columns:[g.None,"ttScrollableView","columns"],frozen:[g.HasDecoratorInputTransform,"frozen","frozen",y],scrollHeight:"scrollHeight"},features:[ie],attrs:on,decls:13,vars:13,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[1,"p-treetable-scrollable-header"],[1,"p-treetable-scrollable-header-box"],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"onLazyLoad","items","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],[1,"p-treetable-scrollable-footer"],[1,"p-treetable-scrollable-footer-box"],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(n,t){n&1&&(u(0,"div",9,0)(2,"div",10,1)(4,"table",11),d(5,dn,1,0,"ng-container",12),u(6,"thead",13),d(7,pn,1,0,"ng-container",12),f()()()(),d(8,bn,4,10,"p-scroller",14)(9,Tn,4,10,"ng-container",15)(10,wn,5,15,"ng-template",null,2,fe)(12,In,8,10,"div",16)),n&2&&(s(4),a("ngClass",t.tt.tableStyleClass)("ngStyle",t.tt.tableStyle),s(),a("ngTemplateOutlet",t.frozen&&t.tt.frozenColGroupTemplate||t.tt.colGroupTemplate)("ngTemplateOutletContext",F(9,H,t.columns)),s(2),a("ngTemplateOutlet",t.frozen&&t.tt.frozenHeaderTemplate||t.tt.headerTemplate)("ngTemplateOutletContext",F(11,H,t.columns)),s(),a("ngIf",t.tt.virtualScroll),s(),a("ngIf",!t.tt.virtualScroll),s(3),a("ngIf",t.tt.footerTemplate))},dependencies:[$,G,q,xe,J,mt,It],encapsulation:2})}return i})();var xt=(()=>{class i{tt;tableService;cd;disabled;rowNode;checked;partialChecked;focused;subscription;constructor(e,n,t){this.tt=e,this.tableService=n,this.cd=t,this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected),this.cd.markForCheck()})}ngOnInit(){this.tt.selectionKeys?(this.checked=this.tt.isNodeSelected(this.rowNode.node),this.partialChecked=this.tt.isNodePartialSelected(this.rowNode.node)):(this.checked=this.tt.isSelected(this.rowNode.node),this.partialChecked=this.rowNode.node.partialSelected)}onClick(e){if(!this.disabled)if(this.tt.selectionKeys){let n=!this.checked;this.tt.toggleCheckbox({originalEvent:e,check:n,rowNode:this.rowNode})}else this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode});m.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(_(X),_(le),_(ne))};static \u0275cmp=A({type:i,selectors:[["p-treeTableCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:[g.HasDecoratorInputTransform,"disabled","disabled",y],rowNode:[g.None,"value","rowNode"]},features:[ie],decls:7,vars:14,consts:[["box",""],[1,"p-checkbox","p-component",3,"click","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","tabindex","-1",3,"focus","blur","checked"],["role","checkbox",3,"ngClass"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){if(n&1){let l=P();u(0,"div",1),R("click",function(c){return w(l),v(t.onClick(c))}),u(1,"div",2)(2,"input",3),R("focus",function(){return w(l),v(t.onFocus())})("blur",function(){return w(l),v(t.onBlur())}),f()(),u(3,"div",4,0),d(5,Nn,3,2,"ng-container",5)(6,zn,2,5,"span",5),f()()}n&2&&(a("ngClass",O(6,xn,t.focused,t.tt.config.inputStyle()==="filled")),s(2),a("checked",t.checked),s(),a("ngClass",Ie(9,En,t.checked,t.focused,t.partialChecked,t.disabled)),Y("aria-checked",t.checked),s(2),a("ngIf",!t.tt.checkboxIconTemplate),s(),a("ngIf",t.tt.checkboxIconTemplate))},dependencies:()=>[$,G,q,ge,ze],encapsulation:2,changeDetection:0})}return i})(),Et=(()=>{class i{tt;tableService;cd;boxViewChild;checked;focused;disabled;selectionChangeSubscription;valueChangeSubscription;constructor(e,n,t){this.tt=e,this.tableService=n,this.cd=t,this.valueChangeSubscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.checked=this.updateCheckedState()}),this.selectionChangeSubscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.checked=this.updateCheckedState()})}ngOnInit(){this.checked=this.updateCheckedState()}onClick(e,n){(this.tt.value||this.tt.filteredNodes)&&(this.tt.value.length>0||this.tt.filteredNodes.length>0)&&this.tt.toggleNodesWithCheckbox(e,!n),m.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe()}updateCheckedState(){this.cd.markForCheck();let e,n=this.tt.filteredNodes||this.tt.value;if(n){if(this.tt.selectionKeys)for(let t of n)if(this.tt.isNodeSelected(t))e=!0;else{e=!1;break}if(!this.tt.selectionKeys)for(let t of n)if(this.tt.isSelected(t))e=!0;else{e=!1;break}}else e=!1;return e}static \u0275fac=function(n){return new(n||i)(_(X),_(le),_(ne))};static \u0275cmp=A({type:i,selectors:[["p-treeTableHeaderCheckbox"]],viewQuery:function(n,t){if(n&1&&D(Vn,5),n&2){let l;k(l=M())&&(t.boxViewChild=l.first)}},hostAttrs:[1,"p-element"],decls:8,vars:13,consts:[["cb",""],["box",""],[1,"p-checkbox","p-component",3,"click","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"focus","blur","checked","disabled"],["role","checkbox",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){if(n&1){let l=P();u(0,"div",2),R("click",function(c){w(l);let p=ee(3);return v(t.onClick(c,p.checked))}),u(1,"div",3)(2,"input",4,0),R("focus",function(){return w(l),v(t.onFocus())})("blur",function(){return w(l),v(t.onBlur())}),f()(),u(4,"div",5,1),d(6,Hn,2,1,"ng-container",6)(7,Kn,2,4,"span",7),f()()}n&2&&(a("ngClass",F(7,Ln,t.focused)),s(2),a("checked",t.checked)("disabled",!t.tt.value||t.tt.value.length===0),s(2),a("ngClass",$e(9,Pn,t.checked,t.focused,!t.tt.value||t.tt.value.length===0)),Y("aria-checked",t.checked),s(2),a("ngIf",!t.tt.headerCheckboxIconTemplate),s(),a("ngIf",t.tt.headerCheckboxIconTemplate))},dependencies:()=>[$,G,q,ge],encapsulation:2,changeDetection:0})}return i})();var kt=(()=>{class i{tt;config;rowNode;constructor(e,n){this.tt=e,this.config=n}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(n){return new(n||i)(_(X),_(Ee))};static \u0275cmp=A({type:i,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){n&1&&(u(0,"button",0),R("click",function(r){return t.onClick(r)}),d(1,Un,3,2,"ng-container",1)(2,Qn,1,0,null,2),f()),n&2&&(Ge("visibility",t.rowNode.node.leaf===!1||t.rowNode.node.children&&t.rowNode.node.children.length?"visible":"hidden")("margin-left",t.rowNode.level*16+"px"),Y("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",t.toggleButtonAriaLabel),s(),a("ngIf",!t.tt.togglerIconTemplate),s(),a("ngTemplateOutlet",t.tt.togglerIconTemplate)("ngTemplateOutletContext",F(10,H,t.rowNode.node.expanded)))},dependencies:()=>[G,q,pt,ke,Me],encapsulation:2})}return i})(),Mt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ae({type:i});static \u0275inj=He({imports:[Ze,bt,ht,Ne,De,Re,Fe,_t,Ct,Tt,ge,ze,ke,Me,dt,Ne]})}return i})();var Jn=(i,o)=>({"btn-Add":i,"btn-Refresh":o});function Xn(i,o){i&1&&(u(0,"span"),te(1),W(2,"translate"),f()),i&2&&(s(),Se(" ",Q(2,1,"Model.Save"),""))}function Zn(i,o){i&1&&(u(0,"span"),te(1),W(2,"translate"),f()),i&2&&(s(),Se(" ",Q(2,1,"Model.Update"),""))}function Yn(i,o){if(i&1){let e=P();u(0,"div",16)(1,"p-button",17),R("click",function(){w(e);let t=h(2);return v(t.ToggleApplications())}),f(),u(2,"div",18),S(3,"p-treeTableHeaderCheckbox"),u(4,"span",19),te(5),W(6,"translate"),f()()()}i&2&&(s(5),de(Q(6,1,"RoleGroup.SelectAll")))}function el(i,o){}function tl(i,o){if(i&1&&(u(0,"tr")(1,"td")(2,"div",16)(3,"div",20),S(4,"p-treeTableToggler",21),f(),u(5,"div",20),S(6,"p-treeTableCheckbox",22),f(),u(7,"div",19)(8,"span",20),te(9),f()()()()()),i&2){let e=o.$implicit,n=o.rowData;s(4),a("rowNode",e),s(2),a("value",e),s(3),de(n.Name)}}function il(i,o){if(i&1){let e=P();u(0,"div",2)(1,"div",3)(2,"input",4),W(3,"translate"),ue("ngModelChange",function(t){w(e);let l=h();return he(l.RoleGroup.Name,t)||(l.RoleGroup.Name=t),v(t)}),f()(),u(4,"div",3)(5,"input",5),W(6,"translate"),ue("ngModelChange",function(t){w(e);let l=h();return he(l.RoleGroup.Notes,t)||(l.RoleGroup.Notes=t),v(t)}),f()(),u(7,"div",6)(8,"button",7),R("click",function(){w(e);let t=h();return v(t.Send())}),d(9,Xn,3,3,"span",8)(10,Zn,3,3,"span",8),S(11,"i",9),f(),u(12,"button",10),R("click",function(){let t=w(e).$implicit;return v(t.close("close"))}),te(13),W(14,"translate"),f()()(),u(15,"div",11)(16,"p-treeTable",12),R("onNodeUnselect",function(t){w(e);let l=h();return v(l.NodeUnselect(t))})("onNodeSelect",function(t){w(e);let l=h();return v(l.NodeUnselect(t))}),ue("selectionChange",function(t){w(e);let l=h();return he(l.selectedNodes3,t)||(l.selectedNodes3=t),v(t)}),d(17,Yn,7,3,"ng-template",13)(18,el,0,0,"ng-template",14)(19,tl,10,3,"ng-template",15),f()()}if(i&2){let e=h();s(2),ve("placeholder",Q(3,10,"Table.Name")),pe("ngModel",e.RoleGroup.Name),s(3),ve("placeholder",Q(6,12,"Table.Notes")),pe("ngModel",e.RoleGroup.Notes),s(3),a("ngClass",O(16,Jn,e.RoleGroup.Id==0,e.RoleGroup.Id!=0)),s(),a("ngIf",e.RoleGroup.Id==0),s(),a("ngIf",e.RoleGroup.Id!=0),s(3),de(Q(14,14,"Model.Close")),s(3),a("value",e.RoleScreenForSelect),pe("selection",e.selectedNodes3)}}var no=(()=>{let o=class o{constructor(n,t,l){this._SharedObjectModelService=n,this._AppModeService=t,this._Apiservice=l,this.selectedNodes3=[],this.Screens=[],this.TablePaging={InputType:"Table",Type:"TablePaging",GlobalData:{Url:"Global/GetAll",TableName:"RoleGroup",Columns:["Id","Name","Notes"]},Required:!1,TableCell:[{SortName:"Name",CellName:"Table.Name"},{SortName:"Notes",CellName:"Table.Notes"}]},this.RoleGroup={RoleScreens:[],Id:0,Name:"",Notes:"",Code:"",SelectAll:!1},this.RoleScreenForSelect=[]}ngOnInit(){}OpenModal(){this.GetPageInfo(),this.ResetPage()}BuildTree(n,t=null){return n.filter(l=>l.ParentNo===t).map(l=>({Name:l.Name,ParentNo:l.ParentNo,Screen:l.Screen,SubScreen:`${l.Screen}${l.ParentNo}`,checked:l.Visible==!0,data:{Name:l.Name},children:this.BuildTree(n,l.Screen).length>0?this.BuildTree(n,l.Screen):l.ViewActions!=null&&l.ViewActions!=null?l.ViewActions.map(r=>({checked:r.Visible==!0,ParentNo:l.Screen,SubScreen:`${l.Screen}${l.ParentNo}${r.Action}`,Action:r.Action,Name:r.Name,data:{Name:r.Name}})):[]}))}GetPageInfo(){this._AppModeService.DisabledButton=!0,this.RoleScreenForSelect=[],this._Apiservice.get("RoleGroupEP/GetPageInfo",!1).pipe(se(this._Apiservice.destroy$)).subscribe({next:n=>{n.IsSuccess==!0&&n.Obj!=null?(this._AppModeService.DisabledButton=!1,this.RoleScreenForSelect=this.BuildTree(n.Obj,0)):(this._AppModeService.DisabledButton=!1,this._AppModeService._Toastr.error(n.Message))}})}ToggleTree(n){return n.map(t=>ae(j({},t),{expanded:!t.expanded,children:t.children?this.ToggleTree(t.children):[]}))}ToggleApplications(){this.RoleScreenForSelect=this.ToggleTree(this.RoleScreenForSelect)}ShowToEdite(){this.RoleScreenForSelect=[],this.RoleGroup.Id=this._SharedObjectModelService.PageModel.model.Id,this.RoleGroup.Name=this._SharedObjectModelService.PageModel.model.Name,this.RoleGroup.Notes=this._SharedObjectModelService.PageModel.model.Notes,this.RoleGroup.SelectAll=this._SharedObjectModelService.PageModel.model.SelectAll;let n=this._SharedObjectModelService.PageModel.Screens,t=this._SharedObjectModelService.PageModel.model.RoleScreens;for(let l=0;l<n.length;l++){let r=n[l],c=t.find(p=>p.Screen==r.Screen);if(c!=null&&(r.Visible=c.Visible,c.ParentNo=r.ParentNo,c.Name=r.Name,r.ViewActions!=null&&r.ViewActions!=null))for(let p=0;p<r.ViewActions.length;p++){let b=r.ViewActions[p],T=c.ViewActions.find(N=>N.Action==b.Action);T!=null&&(b.Visible=T.Visible,T.Name=b.Name,b.ParentNo=c.Screen,T.ParentNo=c.Screen)}}this.RoleScreenForSelect=this.BuildTree(n,0),this.selectedNodes3=this.BuildTree(t,0)}CheckedParent(n){n.parent!=null&&(n.parent.partialSelected&&(n.parent.checked=n.parent.partialSelected),this.CheckedParent(n.parent))}NodeUnselect(n){this.CheckedParent(n.node)}CollectScreen(n){if(n.filter(t=>t.Action>0).length>0){let t=this.Screens.find(l=>l.Screen==n[0].ParentNo);t&&(t.ViewActions=[],t.ViewActions=n.filter(l=>l.checked===!0).map(l=>({Visible:!0,Name:l.Name,Action:l.Action})))}if(n.filter(t=>t.Screen>0&&t.checked===!0).length>0)for(let t=0;t<n.length;t++){let l=n[t];if(l.checked==!0){let r={Visible:!0,Name:l.Name,Screen:l.Screen};this.Screens.push(r)}l.children&&l.children.filter(r=>r.Screen>0).length>0&&this.CollectScreen(l.children),l.children&&l.children.filter(r=>r.Action>0).length>0&&this.CollectScreen(l.children)}}Send(){if(this.Screens=[],this.RoleGroup.Name.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("RoleGroup.Error.NameAr"));return}let n=this.RoleScreenForSelect.filter(l=>l.checked==!0);if(this.CollectScreen(n),n.length<=0&&this.Screens.length<=0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("RoleGroup.Error.SelectOneRole"));return}let t={Id:this.RoleGroup.Id,Name:this.RoleGroup.Name,Code:"",SelectAll:this.RoleGroup.SelectAll,RoleScreens:this.Screens};t.Id==0&&this._Apiservice.post("RoleGroupEP/Add",t,!0).pipe(se(this._Apiservice.destroy$)).subscribe({next:l=>{l.IsSuccess==!0&&l.Obj!=null?(this._AppModeService._Toastr.success(l.Message),this._SharedObjectModelService.Paging.DataReturn.push(l.Obj),this.ResetPage()):this._AppModeService._Toastr.error(l.Message)}}),t.Id>0&&this._Apiservice.put("RoleGroupEP/Update",t,!0).pipe(se(this._Apiservice.destroy$)).subscribe({next:l=>{if(l.IsSuccess==!0&&l.Obj!=null){this._AppModeService._Toastr.success(l.Message);let r=l.Obj,c=this._SharedObjectModelService.Paging.DataReturn.find(p=>p.Id==r.Id);c!=null&&Object.assign(c,r),this.ResetPage()}else this._AppModeService._Toastr.error(l.Message)}})}ResetPage(){this.RoleGroup={SelectAll:!1,RoleScreens:[],Id:0,Name:"",Notes:"",Code:""},this.GetPageInfo(),this.selectedNodes3=[]}ngOnDestroy(){this._Apiservice.destroy$.next(),this._Apiservice.destroy$.complete()}};o.\u0275fac=function(t){return new(t||o)(_(wt),_(at),_(et))},o.\u0275cmp=A({type:o,selectors:[["app-role-group"]],standalone:!0,features:[We],decls:3,vars:6,consts:[["content",""],[3,"OpenModalEvent","ShowToEditeEvent","PageTitle","TablePaging","FullScreen","GetById","DeleteUrl","OutModal"],[1,"d-flex","flex-wrap"],[1,"col-12","col-sm-3","p-2"],["id","Name","type","text",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel","placeholder"],["id","Notes","type","text",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","col-sm-3","p-2","text-center","mx-auto"],[1,"btn",3,"click","ngClass"],[4,"ngIf"],[1,"mx-1","pi","pi-save"],[1,"btn","btn-light","btn-Close","border","border-1","border-dark",3,"click"],[1,"treeTable","DivMainTable"],["dataKey","SubScreen","selectionMode","checkbox",3,"onNodeUnselect","onNodeSelect","selectionChange","value","selection"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","align-items-center"],["label","Toggle",3,"click"],[1,"mx-3"],[1,"mx-2"],[1,""],[1,"",3,"rowNode"],["binary","false","inputId","binary",3,"value"]],template:function(t,l){if(t&1){let r=P();u(0,"app-dynamic-component",1),R("OpenModalEvent",function(){return w(r),v(l.OpenModal())})("ShowToEditeEvent",function(){return w(r),v(l.ShowToEdite())}),f(),d(1,il,20,19,"ng-template",null,0,fe)}if(t&2){let r=ee(2);a("PageTitle","RoleGroup.AddRoleGroup")("TablePaging",l.TablePaging)("FullScreen",!0)("GetById","RoleGroupEP/GetById")("DeleteUrl","RoleGroupEP/Delete")("OutModal",r)}},dependencies:[yt,J,ft,ut,rt,nt,lt,ot,Ye,it,tt,st,vt,Mt,X,kt,xt,Et,$,G],styles:["input.form-check-input[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:transparent!important}td.cursor[_ngcontent-%COMP%], td.cursor[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}svg[_ngcontent-%COMP%]{color:#fff!important}"]});let i=o;return i})();export{no as RoleGroupComponent};
