import{b as N}from"./chunk-GTD5WNPP.js";import{c as P,f as I,h as A,k as T,u as F}from"./chunk-M24M3PNC.js";import{c as V,d as W}from"./chunk-4L6P5Z5M.js";import{e as E,o as C}from"./chunk-JM67XKKX.js";import{$b as _,Bb as o,Cb as i,Db as b,Hb as w,Lb as h,Mb as D,Wb as p,Xb as y,Yb as m,_b as B,ac as M,cb as a,cc as U,db as O,mc as l,na as x,nc as d,ub as k,wb as g,xa as f,ya as v}from"./chunk-VIO7ZK3G.js";import"./chunk-3EYC4JTX.js";function L(c,u){if(c&1){let r=w();o(0,"div",23)(1,"div",24)(2,"label",25),p(3),l(4,"translate"),i(),o(5,"input",26),M("ngModelChange",function(e){f(r);let t=D();return _(t.SeedOptions.EmailMega,e)||(t.SeedOptions.EmailMega=e),v(e)}),i()(),o(6,"div",24)(7,"label",27),p(8),l(9,"translate"),i(),o(10,"input",28),M("ngModelChange",function(e){f(r);let t=D();return _(t.SeedOptions.PasswordMega,e)||(t.SeedOptions.PasswordMega=e),v(e)}),i()()()}if(c&2){let r=D();a(3),m(" ",d(4,4,"Seed.EmailMega"),""),a(2),B("ngModel",r.SeedOptions.EmailMega),a(3),m(" ",d(9,6,"Seed.PasswordMega"),""),a(2),B("ngModel",r.SeedOptions.PasswordMega)}}function j(c,u){if(c&1){let r=w();o(0,"div",23)(1,"div",24)(2,"label",29),p(3),l(4,"translate"),i(),o(5,"input",30),M("ngModelChange",function(e){f(r);let t=D();return _(t.SeedOptions.FileIdDrive,e)||(t.SeedOptions.FileIdDrive=e),v(e)}),i(),b(6,"span",31),i()()}if(c&2){let r=D();a(3),m(" ",d(4,3,"Seed.FileIdDrive"),""),a(2),B("ngModel",r.SeedOptions.FileIdDrive),a(),g("innerText",r.sss)}}var Y=(()=>{let u=class u{constructor(n,e){this._AppModeService=n,this._Apiservice=e,this.sss="myposapp@level-array-381114.iam.gserviceaccount.com",this.SubscriptionArr=[],this.SeedOptions={UserName:"",Password:"",User:!1,BackupDataBase:!1,UploadDataBaseMega:!1,EmailMega:"",PasswordMega:"",UploadDataBaseDrive:!1,FileIdDrive:"",BackupDataBaseDownloadDevice:!1,DefaultData:!1}}SelectOption(n){let e=n.target.checked,t=Number(n.target.value);e==!0&&t==2&&(this.SeedOptions.User=!0),e==!1&&t==2&&(this.SeedOptions.User=!1),e==!0&&t==3&&(this.SeedOptions.BackupDataBase=!0,this.SeedOptions.BackupDataBaseDownloadDevice=!1,this.SeedOptions.UploadDataBaseMega=!1,this.SeedOptions.EmailMega="",this.SeedOptions.PasswordMega="",this.SeedOptions.UploadDataBaseDrive=!1,this.SeedOptions.FileIdDrive=""),e==!1&&t==3&&(this.SeedOptions.BackupDataBase=!1),e==!0&&t==4&&(this.SeedOptions.UploadDataBaseMega=!0,this.SeedOptions.BackupDataBase=!1,this.SeedOptions.BackupDataBaseDownloadDevice=!1,this.SeedOptions.UploadDataBaseDrive=!1,this.SeedOptions.FileIdDrive=""),e==!1&&t==4&&(this.SeedOptions.UploadDataBaseMega=!1),e==!0&&t==5&&(this.SeedOptions.UploadDataBaseDrive=!0,this.SeedOptions.BackupDataBase=!1,this.SeedOptions.BackupDataBaseDownloadDevice=!1,this.SeedOptions.UploadDataBaseMega=!1,this.SeedOptions.EmailMega="",this.SeedOptions.PasswordMega=""),e==!1&&t==5&&(this.SeedOptions.UploadDataBaseDrive=!1),e==!0&&t==6&&(this.SeedOptions.BackupDataBaseDownloadDevice=!0,this.SeedOptions.BackupDataBase=!1,this.SeedOptions.UploadDataBaseDrive=!1,this.SeedOptions.FileIdDrive="",this.SeedOptions.UploadDataBaseMega=!1,this.SeedOptions.EmailMega="",this.SeedOptions.PasswordMega=""),e==!1&&t==6&&(this.SeedOptions.BackupDataBaseDownloadDevice=!1)}Send(){if(this.SeedOptions.UploadDataBaseMega==!0){if(this.SeedOptions.EmailMega.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Seed.Error.EmailMega"));return}if(this.SeedOptions.PasswordMega.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Seed.Error.PasswordMega"));return}}if(this.SeedOptions.UploadDataBaseDrive==!0&&this.SeedOptions.FileIdDrive.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Seed.Error.FileIdDrive"));return}if(this.SeedOptions.User==!1&&this.SeedOptions.BackupDataBase==!1&&this.SeedOptions.UploadDataBaseMega==!1&&this.SeedOptions.UploadDataBaseDrive==!1&&this.SeedOptions.BackupDataBaseDownloadDevice==!1)return;let n=this._Apiservice.post("ProgramSettingsEP/Seed",this.SeedOptions,!0).subscribe({next:e=>{e.IsSuccess==!0?(this._AppModeService._Toastr.success(this._AppModeService._Translate.instant("Success.AddSuccess")),this.SeedOptions.BackupDataBaseDownloadDevice==!0&&this.DownloadFile(e.Obj),this.Empty()):this._AppModeService._Toastr.error(e.Message)}});this.SubscriptionArr.push(n)}DownloadFile(n){if(n==1){let e=this._Apiservice.Download("Download/Database",!0).subscribe({next:t=>{if(this._Apiservice.isLoading=!0,t.type==C.Response){this._Apiservice.isLoading=!1;let S=new Blob([t.body],{type:t.body.type}),s=document.createElement("a");document.body.appendChild(s),s.download="DataBase"+this._Apiservice.NowDate(),s.href=URL.createObjectURL(S),s.target="_blank",s.click()}}});this.SubscriptionArr.push(e)}}Empty(){this.SeedOptions={UserName:"",Password:"",User:!1,BackupDataBase:!1,UploadDataBaseMega:!1,EmailMega:"",PasswordMega:"",UploadDataBaseDrive:!1,FileIdDrive:"",BackupDataBaseDownloadDevice:!1,DefaultData:!1}}ngOnDestroy(){for(let n=0;n<this.SubscriptionArr.length;n++)this.SubscriptionArr[n].unsubscribe()}};u.\u0275fac=function(e){return new(e||u)(O(N),O(P))},u.\u0275cmp=x({type:u,selectors:[["app-program-settings"]],standalone:!0,features:[U],decls:39,vars:24,consts:[["clas","bg-light"],["id","container-page",1,"container-page","m-2"],[1,"page-wrapper"],[1,"main-content","min-vh-100"],[1,"inner-box","min-vh-100"],[1,"title-box","font-weight-normal"],[1,"row","align-items-end","px-3","py-2","justify-content-center"],[1,"col-12","col-md-3","text-center"],["for","BackupDataBase"],["for","BackupDataBase",1,"form-check-label","m-0","col-12","text-center","text-transparent"],["type","checkbox","id","BackupDataBase","value","3",1,"form-check-input","mx-auto",3,"change","checked"],["for","UploadDataBaseMega"],["for","UploadDataBaseMega",1,"form-check-label","m-0","col-12","text-center","text-transparent"],["type","checkbox","id","UploadDataBaseMega","value","4",1,"form-check-input","mx-auto",3,"change","checked"],["for","UploadDataBaseDrive"],["for","UploadDataBaseDrive",1,"form-check-label","m-0","col-12","text-center","text-transparent"],["type","checkbox","id","UploadDataBaseDrive","value","5",1,"form-check-input","mx-auto",3,"change","checked"],["for","BackupDataBaseDownloadDevice"],["for","BackupDataBaseDownloadDevice",1,"form-check-label","m-0","col-12","text-center","text-transparent"],["type","checkbox","id","BackupDataBaseDownloadDevice","value","6",1,"form-check-input","mx-auto",3,"change","checked"],[1,"col-12","text-center","mt-5","mb-3"],[1,"btn","btn-success","my-2","my-md-0","mx-3","px-5","shadow-none","Save",3,"click"],["class","col-12 row",4,"ngIf"],[1,"col-12","row"],[1,"col-12","col-md-4"],["for","EmailMega"],["type","text","name","UserName","id","EmailMega",1,"form-control","text-center","shadow-none",3,"ngModelChange","ngModel"],["for","PasswordMega"],["type","password","name","PasswordMega","id","PasswordMega",1,"form-control","text-center","shadow-none",3,"ngModelChange","ngModel"],["for","FileIdDrive"],["type","text","name","FileIdDrive","id","FileIdDrive",1,"form-control","text-center","shadow-none",3,"ngModelChange","ngModel"],[1,"my-3",3,"innerText"]],template:function(e,t){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),p(6),l(7,"translate"),i(),o(8,"div",6)(9,"div",7)(10,"label",8),p(11),l(12,"translate"),i(),o(13,"label",9)(14,"input",10),h("change",function(s){return t.SelectOption(s)}),i()()(),o(15,"div",7)(16,"label",11),p(17),l(18,"translate"),i(),o(19,"label",12)(20,"input",13),h("change",function(s){return t.SelectOption(s)}),i()()(),o(21,"div",7)(22,"label",14),p(23),l(24,"translate"),i(),o(25,"label",15)(26,"input",16),h("change",function(s){return t.SelectOption(s)}),i()()(),o(27,"div",7)(28,"label",17),p(29),l(30,"translate"),i(),o(31,"label",18)(32,"input",19),h("change",function(s){return t.SelectOption(s)}),i()()(),o(33,"div",20)(34,"button",21),h("click",function(){return t.Send()}),p(35),l(36,"translate"),i()(),k(37,L,11,8,"div",22)(38,j,7,5,"div",22),i()()()()()()),e&2&&(a(6),m(" ",d(7,12,"Menu.ProgramSettings")," "),a(5),m(" ",d(12,14,"Seed.BackupDataBase")," "),a(3),g("checked",t.SeedOptions.BackupDataBase==!0),a(3),m(" ",d(18,16,"Seed.UploadDataBaseMega")," "),a(3),g("checked",t.SeedOptions.UploadDataBaseMega==!0),a(3),m(" ",d(24,18,"Seed.UploadDataBaseDrive")," "),a(3),g("checked",t.SeedOptions.UploadDataBaseDrive==!0),a(3),m(" ",d(30,20,"Seed.BackupDataBaseDownloadDevice")," "),a(3),g("checked",t.SeedOptions.BackupDataBaseDownloadDevice==!0),a(3),y(d(36,22,"Model.Send")),a(2),g("ngIf",t.SeedOptions.UploadDataBaseMega==!0),a(),g("ngIf",t.SeedOptions.UploadDataBaseDrive==!0))},dependencies:[F,I,A,T,W,V,E],styles:["input.form-check-input[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}.logout[_ngcontent-%COMP%]{cursor:pointer}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}span[_ngcontent-%COMP%]{cursor:pointer}"]});let c=u;return c})();export{Y as ProgramSettingsComponent};
