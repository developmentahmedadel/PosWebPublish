import{a as k,b as $}from"./chunk-UVSBIWKY.js";import"./chunk-5EQTOVFJ.js";import"./chunk-3T7HRBK4.js";import"./chunk-NZD6IPKE.js";import"./chunk-EKOK3I7J.js";import{d as j}from"./chunk-SU7IEUNK.js";import"./chunk-CETGYK4I.js";import{c as W}from"./chunk-F7IHWOEY.js";import{c as V,d as O}from"./chunk-GJAIQ3XH.js";import{c as x,d as b,i as L,l as R,v as G}from"./chunk-UA6GT64L.js";import{d as N,e as P}from"./chunk-GOUT62LL.js";import{$b as I,Cb as t,Db as e,Eb as c,Mb as M,Nb as h,X as D,Xb as u,Yb as T,Zb as a,ac as E,bc as g,cc as w,db as i,dc as C,eb as _,ia as B,na as F,nc as S,oc as v,vb as A,xb as s,za as f}from"./chunk-RH76WUG2.js";import"./chunk-3EYC4JTX.js";function z(r,l){r&1&&(f(),t(0,"svg",17),c(1,"path",18),e())}function U(r,l){r&1&&(f(),t(0,"svg",19),c(1,"path",18),e())}function Y(r,l){if(r&1&&(t(0,"span"),u(1),e()),r&2){let m=h(2).$implicit;i(),a(" ",m.NetBalance," ")}}function q(r,l){if(r&1&&(t(0,"span",22),u(1),e()),r&2){let m=h(2).$implicit;i(),a(" ( ",m.NetBalance," ) ")}}function H(r,l){if(r&1&&(t(0,"span"),A(1,Y,2,1,"span",20)(2,q,2,1,"span",21),e()),r&2){let m=h().$implicit;i(),s("ngIf",m.Level==4),i(),s("ngIf",m.Level==5)}}function J(r,l){if(r&1&&(t(0,"span"),u(1),e()),r&2){let m=h().$implicit;i(),a(" ",m.NetBalance," ")}}function K(r,l){if(r&1&&(t(0,"tr")(1,"td"),u(2),e(),t(3,"td"),A(4,H,3,2,"span",20),e(),t(5,"td"),A(6,J,2,1,"span",20),e()()),r&2){let m=l.$implicit;i(2),a(" ",m.AccTreeName," "),i(2),s("ngIf",m.IncomeType==2),i(2),s("ngIf",m.IncomeType==1)}}var d0=(()=>{let l=class l{constructor(p,o){this._AppModeService=p,this._Apiservice=o,this._ServiceLifeTime=B(x),this.SearchModel={FromDate:"",ToDate:""},this.Arr=[],this.CostAvailableInvetory=0,this.CostSaleInvetory=0,this.GrossProfit=0,this.NetProfitBeforVat=0,this.VatAmount=0,this.NetProfitAfterVat=0,this.FirstPeriod=0,this.StorageBalance=0,this.LastSorageBalance=0,this.SalesAmount=0,this.ReturnSalesAmount=0,this.SalesAllowedAmount=0,this.SalesDiscountAmount=0,this.NetSale=0,this.BuysAmount=0,this.ReturnBuysAmount=0,this.BuysAllowedAmount=0,this.BuysDiscountAmount=0,this.BuysExpenses=0,this.NetBuy=0,this.TotalErad=0,this.TotalMasrof=0,this.InitGlReceptStorageBalance=0}ngOnInit(){this.SearchModel.FromDate=new Date(this._Apiservice.FromDate()),this.SearchModel.ToDate=new Date(this._Apiservice.ToNowDate())}Search(){if(this.SearchModel.FromDate==null||`${this.SearchModel.FromDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.FromDate"));return}if(this.SearchModel.ToDate==null||`${this.SearchModel.ToDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.ToDate"));return}let p={FromDate:this._Apiservice.ConvertISODate(this.SearchModel.FromDate),ToDate:this._Apiservice.ConvertISODate(this.SearchModel.ToDate)};if(this._Apiservice.ValidateDate(p.FromDate,p.ToDate)==!1){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("StatementOfFinancial.Error.SmallDate"));return}this._Apiservice.post("IncomeStatementEP/ReportView",p,!0).pipe(D(this._ServiceLifeTime.Destroyed$)).subscribe({next:o=>{this.Arr=o.List,this.CostAvailableInvetory=o.CostAvailableInvetory,this.CostSaleInvetory=o.CostSaleInvetory,this.GrossProfit=o.GrossProfit,this.NetProfitBeforVat=o.NetProfitBeforVat,this.VatAmount=o.VatAmount,this.NetProfitAfterVat=o.NetProfitAfterVat,this.FirstPeriod=o.FirstPeriod,this.StorageBalance=o.StorageBalance,this.LastSorageBalance=o.LastSorageBalance,this.SalesAmount=o.SalesAmount,this.ReturnSalesAmount=o.ReturnSalesAmount,this.SalesAllowedAmount=o.SalesAllowedAmount,this.SalesDiscountAmount=o.SalesDiscountAmount,this.NetSale=o.NetSale,this.BuysAmount=o.BuysAmount,this.ReturnBuysAmount=o.ReturnBuysAmount,this.BuysAllowedAmount=o.BuysAllowedAmount,this.BuysDiscountAmount=o.BuysDiscountAmount,this.BuysExpenses=o.BuysExpenses,this.NetBuy=o.NetBuy,this.TotalErad=o.TotalErad,this.TotalMasrof=o.TotalMasrof,this.InitGlReceptStorageBalance=o.InitGlReceptStorageBalance}})}ngOnDestroy(){}};l.\u0275fac=function(o){return new(o||l)(_(W),_(b))},l.\u0275cmp=F({type:l,selectors:[["app-income-statement"]],standalone:!0,features:[w([x]),C],decls:101,vars:49,consts:[["clas","bg-light"],[1,"title-box","font-weight-normal"],[1,"min"],[1,"my-3","row","align-items-end","px-3","PrintNone"],[1,"col-12","col-sm-6","col-md-4","col-xl-3","p-1"],[1,"my-1"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","ngModel","showTime","showIcon","showOnFocus","showOtherMonths"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2","p-1","mx-auto","d-flex","justify-content-around"],[1,"btn","btn-Add",3,"click"],[1,"mx-1","pi","pi-search"],["width","35","height","35","fill","#198754","class","bi bi-geo-fill","viewBox","0 0 16 16",4,"ngIf"],["width","35","height","35","fill","#dc3545","class","bi bi-geo-fill","viewBox","0 0 16 16",4,"ngIf"],[1,"DivPaging","table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"d-none"],["width","35","height","35","fill","#198754","viewBox","0 0 16 16",1,"bi","bi-geo-fill"],["fill-rule","evenodd","d","M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"],["width","35","height","35","fill","#dc3545","viewBox","0 0 16 16",1,"bi","bi-geo-fill"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(o,n){o&1&&(t(0,"section",0)(1,"div",1)(2,"h4"),u(3),S(4,"translate"),e()(),t(5,"div",2)(6,"div",3)(7,"div",4)(8,"p",5),u(9),S(10,"translate"),e(),t(11,"div",6)(12,"p-calendar",7),g("ngModelChange",function(d){return E(n.SearchModel.FromDate,d)||(n.SearchModel.FromDate=d),d}),e()()(),t(13,"div",4)(14,"p",5),u(15),S(16,"translate"),e(),t(17,"div",6)(18,"p-calendar",7),g("ngModelChange",function(d){return E(n.SearchModel.ToDate,d)||(n.SearchModel.ToDate=d),d}),e()()(),t(19,"div",8)(20,"button",9),M("click",function(){return n.Search()}),u(21),S(22,"translate"),c(23,"i",10),e(),A(24,z,2,0,"svg",11)(25,U,2,0,"svg",12),e()(),t(26,"div",13)(27,"table",14)(28,"thead")(29,"th"),u(30," \u0627\u0644\u0628\u064A\u0627\u0646 "),e(),t(31,"th"),u(32," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u062C\u0632\u0626\u0649 "),e(),t(33,"th"),u(34," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A "),e()(),t(35,"tbody"),A(36,K,7,3,"tr",15),c(37,"tr"),e()()(),t(38,"div",16)(39,"p"),u(40," \u0627\u0644\u0645\u0639\u0637\u064A\u0627\u062A "),e(),t(41,"p"),u(42),e(),t(43,"p"),u(44),e(),t(45,"p"),u(46),e(),t(47,"p"),u(48),e(),t(49,"p"),u(50),e(),t(51,"p"),u(52),e(),t(53,"p"),u(54,"----------------------------------------------------------------------------------------------------------------------------"),e(),t(55,"p"),u(56," \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),e(),t(57,"p"),u(58),e(),t(59,"p"),u(60),e(),t(61,"p"),u(62),e(),t(63,"p"),u(64),e(),t(65,"p"),u(66),e(),t(67,"p"),u(68),e(),t(69,"p"),u(70),e(),t(71,"p"),u(72,"----------------------------------------------------------------------------------------------------------------------------"),e(),t(73,"p"),u(74," \u0627\u0644\u0645\u062E\u0632\u0648\u0646 "),e(),t(75,"p"),u(76),e(),t(77,"p"),u(78),e(),t(79,"p"),u(80),e(),t(81,"p"),u(82),e(),t(83,"p"),u(84,"----------------------------------------------------------------------------------------------------------------------------"),e(),t(85,"p"),u(86,"----------------------------------------------------------------------------------------------------------------------------"),e(),t(87,"p"),u(88),e(),t(89,"p"),u(90),e(),t(91,"p"),u(92),e(),t(93,"p"),u(94),e(),t(95,"p"),u(96),e(),t(97,"p"),u(98),e(),t(99,"p"),u(100),e()()()()),o&2&&(i(3),T(v(4,41,"IncomeStatement.IncomeStatement")),i(6),a(" ",v(10,43,"SupplierAccount.FromDate"),""),i(3),I("ngModel",n.SearchModel.FromDate),s("showTime",!0)("showIcon",!0)("showOnFocus",!0)("showOtherMonths",!0),i(3),a(" ",v(16,45,"SupplierAccount.ToDate"),""),i(3),I("ngModel",n.SearchModel.ToDate),s("showTime",!0)("showIcon",!0)("showOnFocus",!0)("showOtherMonths",!0),i(3),a(" ",v(22,47,"Model.Search")," "),i(3),s("ngIf",n.NetProfitAfterVat>=0),i(),s("ngIf",n.NetProfitAfterVat<0),i(11),s("ngForOf",n.Arr),i(6),a(" \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",n.SalesAmount," "),i(2),a(" \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",n.ReturnSalesAmount," "),i(2),a(" \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",n.SalesAllowedAmount," "),i(2),a(" \u0627\u0644\u062E\u0635\u0645 \u0639\u0644\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",n.SalesDiscountAmount," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",n.NetSale," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647) => ",n.NetSale," "),i(6),a(" \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.BuysAmount," "),i(2),a(" \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.ReturnBuysAmount," "),i(2),a(" \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.BuysAllowedAmount," "),i(2),a(" \u0627\u0644\u062E\u0635\u0645 \u0639\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.BuysDiscountAmount," "),i(2),a(" \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.BuysExpenses," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.NetBuy," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A = ( \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ) - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0643\u062A\u0633\u0628 ) => ",n.NetBuy,""),i(6),a(" \u0627\u0648\u0644 \u0627\u0644\u0645\u062F\u0629 => ",n.FirstPeriod," "),i(2),a(" \u062E\u0644\u0627\u0644 \u0627\u0644\u0645\u062F\u0629 => ",n.StorageBalance," "),i(2),a(" \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",n.LastSorageBalance," "),i(2),a(" \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0645\u062E\u0632\u0648\u0646 \u0627\u0648\u0644 + \u062E\u0644\u0627\u0644 - \u0628\u0636\u0627\u0639\u0629 \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",n.CostSaleInvetory," "),i(6),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647 ) => ",n.NetSale," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A = ( \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ) - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0643\u062A\u0633\u0628 ) => ",n.NetBuy,""),i(2),a(" \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0645\u062E\u0632\u0648\u0646 \u0627\u0648\u0644 + \u062E\u0644\u0627\u0644 - \u0628\u0636\u0627\u0639\u0629 \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",n.CostSaleInvetory," "),i(2),a(" \u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D = \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",n.GrossProfit," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D + \u0627\u064A\u0631\u0627\u062F\u0627\u062A - \u0645\u0635\u0631\u0648\u0641\u0627\u062A => ",n.NetProfitBeforVat," "),i(2),a(" \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0639\u0644\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0639\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",n.VatAmount," "),i(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 - \u0635\u0627\u0641\u064A \u0627\u0644\u0636\u0631\u064A\u0628\u0629 => ",n.NetProfitAfterVat," "))},dependencies:[$,k,O,V,N,P,G,L,R,j],styles:[".min[_ngcontent-%COMP%]{min-height:100vh}"]});let r=l;return r})();export{d0 as IncomeStatementComponent};
