import{c as te,j as ne}from"./chunk-D4UU44IK.js";import"./chunk-4LHCKT7C.js";import{a as ie}from"./chunk-VSYXDL23.js";import"./chunk-3ZAIJ4IV.js";import{s as $}from"./chunk-PPWB5S3T.js";import{a as X,b as Z}from"./chunk-FF7KVUSC.js";import"./chunk-VNF6RC2R.js";import{a as ee}from"./chunk-H6HTMPGV.js";import"./chunk-GKF6IR3T.js";import"./chunk-76NAH4W4.js";import"./chunk-O7NQZYPY.js";import"./chunk-EWI5J5KH.js";import{d as z}from"./chunk-X4LTGZKH.js";import{c as K,d as Y,g as J}from"./chunk-OFZNSK7N.js";import{H as F,I as W,L as j,N as L,Q as G,S as Q,Y as q,_ as H,d as P,i as k}from"./chunk-CXJLKQ4R.js";import{$b as y,Cb as n,Db as i,Eb as T,Ib as x,Mb as A,Nb as u,Tb as w,Ub as N,Vb as M,Wb as B,X as b,Xb as a,Yb as C,Zb as r,ac as I,bc as g,db as e,dc as O,eb as V,na as R,nc as l,oc as s,pc as U,qc as D,vb as v,xa as f,xb as c,ya as _}from"./chunk-J5UB44FZ.js";import"./chunk-3EYC4JTX.js";var ae=["content"],re=["contentDeails"];function oe(p,S){if(p&1){let t=x();T(0,"app-modal-header",5),n(1,"div",6)(2,"div",7)(3,"div",8)(4,"label",9),a(5),l(6,"translate"),i(),n(7,"input",10),g("ngModelChange",function(o){f(t);let m=u();return I(m.ShifthForm.Name,o)||(m.ShifthForm.Name=o),_(o)}),i()(),n(8,"div",11)(9,"label",12),a(10),l(11,"translate"),i(),n(12,"div",13,2)(14,"p-calendar",14),g("ngModelChange",function(o){f(t);let m=u();return I(m.ShifthForm.StartDate,o)||(m.ShifthForm.StartDate=o),_(o)}),i()()(),n(15,"div",8)(16,"label",15),a(17),l(18,"translate"),i(),n(19,"input",16),g("ngModelChange",function(o){f(t);let m=u();return I(m.ShifthForm.StartCash,o)||(m.ShifthForm.StartCash=o),_(o)}),i()(),n(20,"div",8)(21,"label",17),a(22),l(23,"translate"),i(),n(24,"input",18),g("ngModelChange",function(o){f(t);let m=u();return I(m.ShifthForm.StartVisa,o)||(m.ShifthForm.StartVisa=o),_(o)}),i()()(),n(25,"div",19)(26,"button",20),A("click",function(){f(t);let o=u();return _(o.Send())}),a(27),l(28,"translate"),i(),n(29,"button",21),A("click",function(){let o=f(t).$implicit,m=u();return o.close("Close click"),_(m.ResetPage())}),a(30),l(31,"translate"),i()()()}if(p&2){let t=B(13),d=u();c("PageTitle","Shift.Shift"),e(5),C(s(6,15,"Table.Name")),e(2),y("ngModel",d.ShifthForm.Name),e(3),C(s(11,17,"Shift.StartDate")),e(4),c("showClear",d.ShifthForm.StartDate!="")("appendTo",t)("showOtherMonths",!0)("showTime",!0),y("ngModel",d.ShifthForm.StartDate),e(3),C(s(18,19,"Shift.StartCash")),e(2),y("ngModel",d.ShifthForm.StartCash),e(3),C(s(23,21,"Shift.StartVisa")),e(2),y("ngModel",d.ShifthForm.StartVisa),e(3),C(s(28,23,"Model.Send")),e(3),C(s(31,25,"Model.Close"))}}function pe(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.StartCash," ")}}function le(p,S){if(p&1){let t=x();n(0,"input",40),g("ngModelChange",function(o){f(t);let m=u(2);return I(m.UpdateShift.StartCash,o)||(m.UpdateShift.StartCash=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.StartCash)}}function se(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.EndCash," ")}}function de(p,S){if(p&1){let t=x();n(0,"input",40),g("ngModelChange",function(o){f(t);let m=u(2);return I(m.UpdateShift.EndCash,o)||(m.UpdateShift.EndCash=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.EndCash)}}function me(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.StartVisa," ")}}function ue(p,S){if(p&1){let t=x();n(0,"input",40),g("ngModelChange",function(o){f(t);let m=u(2);return I(m.UpdateShift.StartVisa,o)||(m.UpdateShift.StartVisa=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.StartVisa)}}function Se(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let t=u(2);e(),r(" ",t.UpdateShift.EndVisa," ")}}function he(p,S){if(p&1){let t=x();n(0,"input",40),g("ngModelChange",function(o){f(t);let m=u(2);return I(m.UpdateShift.EndVisa,o)||(m.UpdateShift.EndVisa=o),_(o)}),i()}if(p&2){let t=u(2);y("ngModel",t.UpdateShift.EndVisa)}}function ce(p,S){p&1&&(n(0,"span",41),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.UPCash")," "))}function fe(p,S){p&1&&(n(0,"span",42),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.DownCash")," "))}function _e(p,S){p&1&&(n(0,"span",41),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.UPVisa")," "))}function xe(p,S){p&1&&(n(0,"span",42),a(1),l(2,"translate"),i()),p&2&&(e(),r(" ",s(2,1,"Shift.DownVisa")," "))}function Ce(p,S){if(p&1&&(n(0,"span")(1,"span",31),a(2),l(3,"date"),i()()),p&2){let t=u(2);e(2),r(" ",U(3,1,t.UpdateShift.CloseDate,"d-M-yyyy h:mm:ss a")," ")}}function ve(p,S){if(p&1){let t=x();n(0,"div",13,2)(2,"p-calendar",14),g("ngModelChange",function(o){f(t);let m=u(2);return I(m.UpdateShift.CloseDate,o)||(m.UpdateShift.CloseDate=o),_(o)}),i()()}if(p&2){let t=B(1),d=u(2);e(2),c("showClear",d.UpdateShift.CloseDate!="")("appendTo",t)("showOtherMonths",!0)("showTime",!0),y("ngModel",d.UpdateShift.CloseDate)}}function ye(p,S){if(p&1){let t=x();n(0,"button",43),A("click",function(){f(t);let o=u(2);return _(o.Print())}),a(1),l(2,"translate"),i()}p&2&&(e(),C(s(2,1,"Model.Print")))}function Ie(p,S){if(p&1){let t=x();n(0,"button",44),A("click",function(){f(t);let o=u(2);return _(o.Update())}),a(1),l(2,"translate"),i()}p&2&&(e(),C(s(2,1,"Model.Update")))}function ge(p,S){if(p&1){let t=x();n(0,"button",45),A("click",function(){f(t);let o=u(2);return _(o.CloseShift())}),a(1),l(2,"translate"),i()}p&2&&(e(),C(s(2,1,"Shift.CloseShift")))}function Ae(p,S){if(p&1){let t=x();T(0,"app-modal-header",5),n(1,"div",22)(2,"div",23)(3,"div",24)(4,"span",25),a(5),l(6,"translate"),i(),v(7,pe,2,1,"span",26)(8,le,1,1,"input",27),i(),n(9,"div",24)(10,"span",25),a(11),l(12,"translate"),i(),v(13,se,2,1,"span",26)(14,de,1,1,"input",27),i(),n(15,"div",24)(16,"span",25),a(17),l(18,"translate"),i(),n(19,"span",25),a(20),i()(),n(21,"div",24)(22,"span",25),a(23),l(24,"translate"),i(),v(25,me,2,1,"span",26)(26,ue,1,1,"input",27),i(),n(27,"div",24)(28,"span",25),a(29),l(30,"translate"),i(),v(31,Se,2,1,"span",26)(32,he,1,1,"input",27),i(),n(33,"div",24)(34,"span",25),a(35),l(36,"translate"),i(),n(37,"span",25),a(38),i()(),n(39,"div",28),v(40,ce,3,3,"span",29)(41,fe,3,3,"span",30),n(42,"span",25),a(43),i()(),n(44,"div",28),v(45,_e,3,3,"span",29)(46,xe,3,3,"span",30),n(47,"span",25),a(48),i()(),n(49,"div",24)(50,"span",25),a(51),l(52,"translate"),i(),n(53,"span",31),a(54),l(55,"date"),i()(),n(56,"div",32)(57,"span",25),a(58),l(59,"translate"),i(),v(60,Ce,4,4,"span",33)(61,ve,3,5,"div",34),i()(),n(62,"div",24)(63,"span",25),a(64),l(65,"translate"),i(),n(66,"span",25),a(67),i()(),n(68,"div",24)(69,"span",25),a(70),l(71,"translate"),i(),n(72,"span",25),a(73),i()(),n(74,"div",24)(75,"span",25),a(76),l(77,"translate"),i(),n(78,"span",25),a(79),i()(),n(80,"div",24)(81,"span",25),a(82),l(83,"translate"),i(),n(84,"span",25),a(85),i()(),n(86,"div",24)(87,"span",25),a(88),l(89,"translate"),i(),n(90,"span",25),a(91),i()(),n(92,"div",24)(93,"span",25),a(94),l(95,"translate"),i(),n(96,"span",25),a(97),i()(),n(98,"div",24)(99,"span",25),a(100),l(101,"translate"),i(),n(102,"span",25),a(103),i()(),n(104,"div",24)(105,"span",25),a(106),l(107,"translate"),i(),n(108,"span",25),a(109),i()(),n(110,"div",24)(111,"span",25),a(112),l(113,"translate"),i(),n(114,"span",25),a(115),i()(),n(116,"div",24)(117,"span",25),a(118),l(119,"translate"),i(),n(120,"span",25),a(121),i()(),n(122,"div",24)(123,"span",25),a(124),l(125,"translate"),i(),n(126,"span",25),a(127),i()(),n(128,"div",24)(129,"span",25),a(130),l(131,"translate"),i(),n(132,"span",25),a(133),i()(),n(134,"div",24)(135,"span",25),a(136),l(137,"translate"),i(),n(138,"span",25),a(139),i()(),n(140,"div",24)(141,"span",25),a(142),l(143,"translate"),i(),n(144,"span",25),a(145),i()(),n(146,"div",24)(147,"span",25),a(148),l(149,"translate"),i(),n(150,"span",25),a(151),i()(),n(152,"div",24)(153,"span",25),a(154),l(155,"translate"),i(),n(156,"span",25),a(157),i()(),n(158,"div",24)(159,"span",25),a(160),l(161,"translate"),i(),n(162,"span",25),a(163),i()(),n(164,"div",24)(165,"span",25),a(166),l(167,"translate"),i(),n(168,"span",25),a(169),i()(),n(170,"div",24)(171,"span",25),a(172),l(173,"translate"),i(),n(174,"span",25),a(175),i()(),n(176,"div",24)(177,"span",25),a(178),l(179,"translate"),i(),n(180,"span",25),a(181),i()(),n(182,"div",24)(183,"span",25),a(184),l(185,"translate"),i(),n(186,"span",25),a(187),i()(),n(188,"div",24)(189,"span",25),a(190),l(191,"translate"),i(),n(192,"span",25),a(193),i()(),n(194,"div",24)(195,"span",25),a(196),l(197,"translate"),i(),n(198,"span",25),a(199),i()(),n(200,"div",24)(201,"span",25),a(202),l(203,"translate"),i(),n(204,"span",25),a(205),i()(),n(206,"div",24)(207,"span",25),a(208),l(209,"translate"),i(),n(210,"span",25),a(211),i()(),n(212,"div",24)(213,"span",25),a(214),l(215,"translate"),i(),n(216,"span",25),a(217),i()(),n(218,"div",24)(219,"span",25),a(220),l(221,"translate"),i(),n(222,"span",25),a(223),i()()(),n(224,"div",35),v(225,ye,3,3,"button",36)(226,Ie,3,3,"button",37)(227,ge,3,3,"button",38),n(228,"button",39),A("click",function(){let o=f(t).$implicit;return _(o.close("Close click"))}),a(229),l(230,"translate"),i()()}if(p&2){let t=u();c("PageTitle","Shift.Shift"),e(5),r(" ",s(6,86,"Shift.StartCash")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(12,88,"Shift.EndCash")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(18,90,"Shift.NetCash")," "),e(3),r(" ",t.NetCash," "),e(3),r(" ",s(24,92,"Shift.StartVisa")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(30,94,"Shift.EndVisa")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(36,96,"Shift.NetVisa")," "),e(3),r(" ",t.NetVisa," "),e(2),c("ngIf",t.ConvertNumber(t.UpdateShift.EndCash)>=t.NetCash),e(),c("ngIf",t.ConvertNumber(t.UpdateShift.EndCash)<t.NetCash),e(2),r(" ",t.ConvertNumber(t.UpdateShift.EndCash)-t.NetCash," "),e(2),c("ngIf",t.ConvertNumber(t.UpdateShift.EndVisa)>=t.NetVisa),e(),c("ngIf",t.ConvertNumber(t.UpdateShift.EndVisa)<t.NetVisa),e(2),r(" ",t.ConvertNumber(t.UpdateShift.EndVisa)-t.NetVisa," "),e(3),r(" ",s(52,98,"Shift.StartDate")," "),e(3),r(" ",U(55,100,t.UpdateShift.StartDate,"d-M-yyyy h:mm:ss a")," "),e(4),r(" ",s(59,103,"Shift.CloseDate")," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(3),r(" ",s(65,105,"Shift.SaleAmount")," "),e(3),r(" ",t.UpdateShift.SaleAmount," "),e(3),r(" ",s(71,107,"Shift.SaleCashAmount")," "),e(3),r(" ",t.UpdateShift.SaleCashAmount," "),e(3),r(" ",s(77,109,"Shift.SaleVisaAmount")," "),e(3),r(" ",t.UpdateShift.SaleVisaAmount," "),e(3),r(" ",s(83,111,"Shift.SaleDebtAmount")," "),e(3),r(" ",t.UpdateShift.SaleDebtAmount," "),e(3),r(" ",s(89,113,"Shift.SaleDeliveryAmount")," "),e(3),r(" ",t.UpdateShift.SaleDeliveryAmount," "),e(3),r(" ",s(95,115,"Shift.BuyAmount")," "),e(3),r(" ",t.UpdateShift.BuyAmount," "),e(3),r(" ",s(101,117,"Shift.BuyVisaAmount")," "),e(3),r(" ",t.UpdateShift.BuyVisaAmount," "),e(3),r(" ",s(107,119,"Shift.BuyCashAmount")," "),e(3),r(" ",t.UpdateShift.BuyCashAmount," "),e(3),r(" ",s(113,121,"Shift.BuyDebtAmount")," "),e(3),r(" ",t.UpdateShift.BuyDebtAmount," "),e(3),r(" ",s(119,123,"Shift.ReturnBuyAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyAmount," "),e(3),r(" ",s(125,125,"Shift.ReturnBuyVisaAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyVisaAmount," "),e(3),r(" ",s(131,127,"Shift.ReturnBuyCashAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyCashAmount," "),e(3),r(" ",s(137,129,"Shift.ReturnBuyDebtAmount")," "),e(3),r(" ",t.UpdateShift.ReturnBuyDebtAmount," "),e(3),r(" ",s(143,131,"Shift.ReturnSaleAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleAmount," "),e(3),r(" ",s(149,133,"Shift.ReturnSaleVisaAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleVisaAmount," "),e(3),r(" ",s(155,135,"Shift.ReturnSaleCashAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleCashAmount," "),e(3),r(" ",s(161,137,"Shift.ReturnSaleDebtAmount")," "),e(3),r(" ",t.UpdateShift.ReturnSaleDebtAmount," "),e(3),r(" ",s(167,139,"Shift.TreasuryInCashAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryInCashAmount," "),e(3),r(" ",s(173,141,"Shift.TreasuryInVisaAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryInVisaAmount," "),e(3),r(" ",s(179,143,"Shift.TreasuryOutCashAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryOutCashAmount," "),e(3),r(" ",s(185,145,"Shift.TreasuryOutVisaAmount")," "),e(3),r(" ",t.UpdateShift.TreasuryOutVisaAmount," "),e(3),r(" ",s(191,147,"Shift.SalesNo")," "),e(3),r(" ",t.UpdateShift.SaleInvoiceNo," "),e(3),r(" ",s(197,149,"Shift.BuyNo")," "),e(3),r(" ",t.UpdateShift.BuyInvoiceNo," "),e(3),r(" ",s(203,151,"Shift.ReturnBuyNo")," "),e(3),r(" ",t.UpdateShift.ReturnBuyInvoiceNo," "),e(3),r(" ",s(209,153,"Shift.ReturnSaleNo")," "),e(3),r(" ",t.UpdateShift.ReturnSaleInvoiceNo," "),e(3),r(" ",s(215,155,"Shift.TreasueyInNo")," "),e(3),r(" ",t.UpdateShift.TreasuryInNo," "),e(3),r(" ",s(221,157,"Shift.TreasueyOutNo")," "),e(3),r(" ",t.UpdateShift.TreasuryOutNo," "),e(2),c("ngIf",t.UpdateShift.IsOpen==!1),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(),c("ngIf",t.UpdateShift.IsOpen==!0),e(2),C(s(230,159,"Model.Close"))}}var Ge=(()=>{let S=class S{constructor(d,o,m){this._SharedObjectModelService=d,this._AppModeService=o,this._Apiservice=m,this.TablePaging={InputType:"Table",Type:"TablePaging",GlobalData:{Url:"Global/GetAll",TableName:"Shifts",BranchFilter:!0,Columns:["Id","Name","StartDate","CloseDate","IsOpen","StartCash"]},Required:!1,TableCell:[{SortName:"Name",CellName:"Table.Name"},{SortName:"StartCash",CellName:"Shift.StartCash"},{SortName:"StartDate",CellName:"Shift.StartDate",CellDateTime:!0},{SortName:"CloseDate",CellName:"Shift.CloseDate",CellDateTime:!0},{SortName:"IsOpen",CellName:"Shift.IsOpen",DataBoolean:!0}]},this.NetCash=0,this.NetVisa=0,this.ShifthForm={IsOpen:!1,StartCash:"",EndCash:0,StartVisa:"",EndVisa:0,StartDate:"",CloseDate:null,TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,Id:0,Name:"",Code:"",TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",StartVisa:"",EndVisa:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnInit(){}ConvertNumber(d){return Number(d)}ShowToEdite(){this._AppModeService._NgbModal.dismissAll(),this._AppModeService._NgbModal.open(this.ContentDeailsModel,{size:"xl",backdrop:"static"}),this.Drow()}Drow(){let d=this._SharedObjectModelService.PageModel;this.UpdateShift=d,this.NetCash=d.NetCash,this.NetVisa=d.NetVisa,this.UpdateShift.IsOpen==!0&&(this.UpdateShift.CloseDate="")}Send(){if(this.ShifthForm.Name.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.Name"));return}if(this.ShifthForm.StartDate==null){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.StartDate"));return}if(Number(this.ShifthForm.StartCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartCash"));return}if(Number(this.ShifthForm.StartVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartVisa"));return}let d={},o=Object.keys(this.ShifthForm),m=Object.values(this.ShifthForm);for(let h=0;h<o.length;h++)d[`${o[h]}`]=m[h];d.StartDate=this._Apiservice.ConvertISODate(this.ShifthForm.StartDate),d.StartCash=Number(this.ShifthForm.StartCash),d.StartVisa=Number(this.ShifthForm.StartVisa),d.EndVisa=0,d.EndCash=0,d.Id=0,d.CloseDate=null,this._Apiservice.post("ShiftEP/Add",d,!0).pipe(b(this._Apiservice.destroy$)).subscribe({next:h=>{h.IsSuccess==!0&&h.Obj!=null?(this._AppModeService._Toastr.success(h.Message),this.ResetPage(),this._SharedObjectModelService.Paging.DataReturn.push(h.Obj)):this._AppModeService._Toastr.error(h.Message)}})}Update(){let d={Id:this.UpdateShift.Id,StartCash:this.UpdateShift.StartCash,StartVisa:this.UpdateShift.StartVisa};this._Apiservice.put("ShiftEP/Update",d,!0).pipe(b(this._Apiservice.destroy$)).subscribe({next:o=>{if(o.IsSuccess==!0&&o.Obj!=null){this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let m=o.Obj,h=this._SharedObjectModelService.Paging.DataReturn.find(E=>E.Id==m.Id);h!=null&&Object.assign(h,m)}else this._AppModeService._Toastr.error(o.Message)}})}CloseShift(){if(this.UpdateShift.CloseDate==null||this.UpdateShift.CloseDate==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.CloseDate"));return}if(Number(this.ShifthForm.EndCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndCash"));return}if(Number(this.ShifthForm.EndVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndVisa"));return}let d={Id:this.UpdateShift.Id,CloseDate:this._Apiservice.ConvertISODate(this.UpdateShift.CloseDate),EndCash:this.UpdateShift.EndCash,EndVisa:this.UpdateShift.EndVisa};this._Apiservice.post("ShiftEP/Close",d,!0).pipe(b(this._Apiservice.destroy$)).subscribe({next:o=>{if(o.IsSuccess==!0&&o.Obj!=null){this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let m=o.Obj,h=this._SharedObjectModelService.Paging.DataReturn.find(E=>E.Id==m.Id);h!=null&&Object.assign(h,m)}else this._AppModeService._Toastr.error(o.Message)}})}Print(){window.open(`${F.UseHash==!0?"/#":""} /InvoiceReport?Name=ShiftReport&Id=${this.UpdateShift.Id}`,"_blank","width=700, height=700")}ResetPage(){this.ShifthForm={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnDestroy(){this._Apiservice.destroy$.next(),this._Apiservice.destroy$.complete()}};S.\u0275fac=function(o){return new(o||S)(V(ee),V(J),V(W))},S.\u0275cmp=R({type:S,selectors:[["app-shift"]],viewQuery:function(o,m){if(o&1&&(w(ae,5),w(re,5)),o&2){let h;N(h=M())&&(m.ContentModel=h.first),N(h=M())&&(m.ContentDeailsModel=h.first)}},standalone:!0,features:[O],decls:5,vars:7,consts:[["content",""],["contentDeails",""],["ddddd",""],[3,"ShowToEditeEvent","PageTitle","TablePaging","AddUrl","GetById","UpdateUrl","DeleteUrl","OutModal"],[1,"col-12"],[3,"PageTitle"],[1,"modal-body","p-0","m-0"],[1,"d-flex","align-items-end","flex-wrap","mb-3"],[1,"col-12","col-md-4","col-lg-2","px-2"],["for","Name"],["type","text","id","Name",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[1,"col-12","col-md-4","col-lg-3","px-2"],["for","StartDate"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","showClear","appendTo","showOtherMonths","showTime","ngModel"],["for","StartCash"],["min","0","type","number","appNumericInput","","id","StartCash",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],["for","StartVisa"],["min","0","type","number","appNumericInput","","id","StartVisa",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[1,"modal-footer","bg-white","w-100","py-2","px-4","m-0"],[1,"btn","btn-success","py-3","px-5",3,"click"],["type","button",1,"btn","btn-secondary","py-3","px-5",3,"click"],[1,"modal-body","text-center","row"],[1,"col-12","row"],[1,"col-12","col-md-2"],[1,"my-1","d-block"],["class","my-1 d-block",4,"ngIf"],["class","form-control text-center",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-12","col-md-2","text-center","px-2"],["class","my-1 d-block text-success",4,"ngIf"],["class","my-1 d-block text-danger",4,"ngIf"],[1,"d-block"],[1,"col-12","col-md-2","px-0"],[4,"ngIf"],["class","formdate",4,"ngIf"],[1,"modal-footer","bg-white","w-100"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",3,"click"],[1,"form-control","text-center",3,"ngModelChange","ngModel"],[1,"my-1","d-block","text-success"],[1,"my-1","d-block","text-danger"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(o,m){if(o&1){let h=x();n(0,"app-dynamic-component",3),A("ShowToEditeEvent",function(){return f(h),_(m.ShowToEdite())}),i(),v(1,oe,32,27,"ng-template",4,0,D)(3,Ae,231,161,"ng-template",4,1,D)}if(o&2){let h=B(2);c("PageTitle","Shift.Shift")("TablePaging",m.TablePaging)("AddUrl","ShiftEP/Add")("GetById","ShiftEP/GetById")("UpdateUrl","ShiftEP/Update")("DeleteUrl","ShiftEP/Delete")("OutModal",h)}},dependencies:[$,Y,K,H,j,Q,L,q,G,z,P,Z,X,k,ne,te,ie]});let p=S;return p})();export{Ge as ShiftComponent};
