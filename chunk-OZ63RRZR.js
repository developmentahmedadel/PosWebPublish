import{c as I}from"./chunk-F7IHWOEY.js";import{c as $,d as m}from"./chunk-UA6GT64L.js";import{X as u,ca as d,ha as l,ia as w}from"./chunk-RH76WUG2.js";var p=(()=>{let a=class a{constructor(e,i){this._AppModeService=e,this._Apiservice=i,this._ServiceLifeTime=w($),this.PageModel={Id:0},this.Paging={PageSize:10,CurrentPage:1,TotalPages:0,TotalItems:0,DataReturn:[]},this.TotalItems=0,this.RemoveDuplicates=(t,n)=>{let s=new Map;return t.forEach(r=>{s.set(r[n],r)}),Array.from(s.values()).sort((r,f)=>r[n]-f[n])},this.ResetPaging()}ResetPaging(){this.Paging={PageSize:10,CurrentPage:1,TotalPages:0,TotalItems:0,DataReturn:[]}}ShowDocument(e,i){let t="",n="";e==1&&(t="SaleInvoices",n=`DocNo = ${i}`),e==2&&(t="ReturnSaleInvoice",n=`DocNo = ${i}`),e==3&&(t="BuyInvoices",n=`DocNo = ${i}`),e==4&&(t="ReturnBuyInvoice",n=`DocNo = ${i}`),e==5&&(t="Transfer",n=`DocNo = ${i}`),e==6&&(t="TreasuryIn",n=`DocNo = ${i}`),e==7&&(t="TreasuryOut",n=`DocNo = ${i}`),e==8&&(t="GLs",n=`DocType = 8 And DocNo = ${i}`),e==11&&(t="InventorySettlement",n=`DocNo = ${i}`),e==12&&(t="CreateInitGlRecept",n=`DocNo = ${i}`),e==13&&(t="SuppliersPermissions",n=`DocNo = ${i}`),e==14&&(t="BadDebts",n=`DocNo = ${i}`),e==15&&(t="TransferBranches",n=`DocNo = ${i}`),e==16&&(t="SalesDisount",n=`DocNo = ${i}`),e==17&&(t="StockDamaged",n=`DocNo = ${i}`),e==19&&(t="ManufactureOrder",n=`DocNo = ${i}`);let s={TableName:t,Columns:["Id"],Conditions:n,BranchFilter:!0,NoPaging:!0};this._Apiservice.post("Global/GetAll",s,!1).pipe(u(this._ServiceLifeTime.Destroyed$)).subscribe({next:r=>{if(r.Obj.DataReturn[0]==null){this._AppModeService._Toastr.error("NotFound");return}let f=r.Obj.DataReturn[0].Id;this.Redirect(e,f)},error:r=>{}})}Redirect(e,i){e==1&&window.open(`/SaleInvoice?Id=${i}`,"_blank"),e==2&&window.open(`/ReturnSaleInvoice?Id=${i}`,"_blank"),e==3&&window.open(`/BuyInvoice?Id=${i}`,"_blank"),e==4&&window.open(`/ReturnBuyInvoice?Id=${i}`,"_blank"),e==5&&window.open(`/TransferStorage?Id=${i}`,"_blank"),e==6&&window.open(`/TreasuryIn?Id=${i}`,"_blank"),e==7&&window.open(`/TreasuryOut?Id=${i}`,"_blank"),e==8&&window.open(`/GeneralLedger?Id=${i}`,"_blank"),e==11&&window.open(`/InventorySettlement?Id=${i}`,"_blank"),e==12&&window.open(`/CreateInitGlRecept?Id=${i}`,"_blank"),e==13&&window.open(`/SuppliersPermissions?Id=${i}`,"_blank"),e==14&&window.open(`/BadDebts?Id=${i}`,"_blank"),e==15&&window.open(`/TransferBranches?Id=${i}`,"_blank"),e==19&&window.open(`/ManufactureOrder?Id=${i}`,"_blank")}};a.\u0275fac=function(i){return new(i||a)(l(I),l(m))},a.\u0275prov=d({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();export{p as a};
