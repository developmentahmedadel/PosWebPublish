import{a as j,b as z}from"./chunk-KOJPIKRQ.js";import"./chunk-WL6N6SLT.js";import"./chunk-LNYZIAUP.js";import"./chunk-HYE6JRVA.js";import{d as G}from"./chunk-DVVEKPVL.js";import{b as $}from"./chunk-JCTIHYFX.js";import{c as P,h as R,k as L,u as O}from"./chunk-M24M3PNC.js";import{c as W,d as k}from"./chunk-4L6P5Z5M.js";import{d as b,e as V}from"./chunk-JM67XKKX.js";import{$b as B,Bb as u,Cb as t,Db as E,Hb as w,Lb as F,Mb as S,Vb as y,Wb as i,Xb as C,Yb as a,_b as D,ac as M,cb as n,cc as N,db as x,mc as h,na as T,nc as v,ub as A,wb as m,xa as _,ya as g,za as I}from"./chunk-VIO7ZK3G.js";import"./chunk-3EYC4JTX.js";function Y(o,r){o&1&&(I(),u(0,"svg",21),E(1,"path",22),t())}function q(o,r){o&1&&(I(),u(0,"svg",23),E(1,"path",22),t())}function H(o,r){if(o&1&&(u(0,"span"),i(1),t()),o&2){let l=S(2).$implicit;n(),a(" ",l.NetBalance," ")}}function J(o,r){if(o&1&&(u(0,"span",26),i(1),t()),o&2){let l=S(2).$implicit;n(),a(" ( ",l.NetBalance," ) ")}}function K(o,r){if(o&1&&(u(0,"span"),A(1,H,2,1,"span",24)(2,J,2,1,"span",25),t()),o&2){let l=S().$implicit;n(),m("ngIf",l.Level==4),n(),m("ngIf",l.Level==5)}}function Q(o,r){if(o&1&&(u(0,"span"),i(1),t()),o&2){let l=S().$implicit;n(),a(" ",l.NetBalance," ")}}function U(o,r){if(o&1&&(u(0,"tr")(1,"td"),i(2),t(),u(3,"td"),A(4,K,3,2,"span",24),t(),u(5,"td"),A(6,Q,2,1,"span",24),t()()),o&2){let l=r.$implicit;n(2),a(" ",l.AccTreeName," "),n(2),m("ngIf",l.IncomeType==2),n(2),m("ngIf",l.IncomeType==1)}}var m0=(()=>{let r=class r{constructor(s,p){this._AppModeService=s,this._Apiservice=p,this.SubscriptionArr=[],this.SearchModel={FromDate:"",ToDate:""},this.Arr=[],this.CostAvailableInvetory=0,this.CostSaleInvetory=0,this.GrossProfit=0,this.NetProfitBeforVat=0,this.VatAmount=0,this.NetProfitAfterVat=0,this.FirstPeriod=0,this.StorageBalance=0,this.LastSorageBalance=0,this.SalesAmount=0,this.ReturnSalesAmount=0,this.SalesAllowedAmount=0,this.SalesDiscountAmount=0,this.NetSale=0,this.BuysAmount=0,this.ReturnBuysAmount=0,this.BuysAllowedAmount=0,this.BuysDiscountAmount=0,this.BuysExpenses=0,this.NetBuy=0,this.TotalErad=0,this.TotalMasrof=0,this.InitGlReceptStorageBalance=0}ngOnInit(){this.SearchModel.FromDate=new Date(this._Apiservice.FromDate()),this.SearchModel.ToDate=new Date(this._Apiservice.ToNowDate())}Search(){if(this.SearchModel.FromDate==null||`${this.SearchModel.FromDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.FromDate"));return}if(this.SearchModel.ToDate==null||`${this.SearchModel.ToDate}`.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Interval.Error.ToDate"));return}let s={FromDate:this._Apiservice.ConvertISODate(this.SearchModel.FromDate),ToDate:this._Apiservice.ConvertISODate(this.SearchModel.ToDate)};if(this._Apiservice.ValidateDate(s.FromDate,s.ToDate)==!1){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("StatementOfFinancial.Error.SmallDate"));return}let p=this._Apiservice.post("ReportViewEP/IncomeStatement",s,!0).subscribe({next:e=>{e.IsSuccess==!0?(this.Arr=e.List,this.CostAvailableInvetory=e.CostAvailableInvetory,this.CostSaleInvetory=e.CostSaleInvetory,this.GrossProfit=e.GrossProfit,this.NetProfitBeforVat=e.NetProfitBeforVat,this.VatAmount=e.VatAmount,this.NetProfitAfterVat=e.NetProfitAfterVat,this.FirstPeriod=e.FirstPeriod,this.StorageBalance=e.StorageBalance,this.LastSorageBalance=e.LastSorageBalance,this.SalesAmount=e.SalesAmount,this.ReturnSalesAmount=e.ReturnSalesAmount,this.SalesAllowedAmount=e.SalesAllowedAmount,this.SalesDiscountAmount=e.SalesDiscountAmount,this.NetSale=e.NetSale,this.BuysAmount=e.BuysAmount,this.ReturnBuysAmount=e.ReturnBuysAmount,this.BuysAllowedAmount=e.BuysAllowedAmount,this.BuysDiscountAmount=e.BuysDiscountAmount,this.BuysExpenses=e.BuysExpenses,this.NetBuy=e.NetBuy,this.TotalErad=e.TotalErad,this.TotalMasrof=e.TotalMasrof,this.InitGlReceptStorageBalance=e.InitGlReceptStorageBalance):this._AppModeService._Toastr.error(e.Message)}});this.SubscriptionArr.push(p)}ngOnDestroy(){for(let s=0;s<this.SubscriptionArr.length;s++)this.SubscriptionArr[s].unsubscribe()}};r.\u0275fac=function(p){return new(p||r)(x($),x(P))},r.\u0275cmp=T({type:r,selectors:[["app-income-statement"]],standalone:!0,features:[N],decls:104,vars:49,consts:[["ddddd",""],["dddd",""],["clas","bg-light"],["id","container-page",1,"container-page","me-2"],[1,"page-wrapper"],[1,"main-content"],[1,"inner-box"],[1,"title-box","font-weight-normal"],[1,"my-3","row","align-items-end","px-3","PrintNone"],[1,"col-12","col-md-6","col-lg-2","px-2"],[1,"my-1"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","showClear","appendTo","showOtherMonths","ngModel","showTime"],[1,"col-12","col-md-6","col-lg-3","px-2"],[1,"btn","btn-success","my-2","my-md-0","mx-3","px-5","shadow-none","Save",3,"click"],["width","35","height","35","fill","#198754","class","bi bi-geo-fill","viewBox","0 0 16 16",4,"ngIf"],["width","35","height","35","fill","#dc3545","class","bi bi-geo-fill","viewBox","0 0 16 16",4,"ngIf"],[1,"table-responsive","mt-4"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"d-none"],["width","35","height","35","fill","#198754","viewBox","0 0 16 16",1,"bi","bi-geo-fill"],["fill-rule","evenodd","d","M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"],["width","35","height","35","fill","#dc3545","viewBox","0 0 16 16",1,"bi","bi-geo-fill"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(p,e){if(p&1){let c=w();u(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),i(6),h(7,"translate"),t(),u(8,"div",8)(9,"div",9)(10,"p",10),i(11),h(12,"translate"),t(),u(13,"div",11,0)(15,"p-calendar",12),M("ngModelChange",function(d){return _(c),B(e.SearchModel.FromDate,d)||(e.SearchModel.FromDate=d),g(d)}),t()()(),u(16,"div",9)(17,"p",10),i(18),h(19,"translate"),t(),u(20,"div",11,1)(22,"p-calendar",12),M("ngModelChange",function(d){return _(c),B(e.SearchModel.ToDate,d)||(e.SearchModel.ToDate=d),g(d)}),t()()(),u(23,"div",13)(24,"button",14),F("click",function(){return _(c),g(e.Search())}),i(25),h(26,"translate"),t(),A(27,Y,2,0,"svg",15)(28,q,2,0,"svg",16),t()(),u(29,"div",17)(30,"table",18)(31,"thead")(32,"th"),i(33," \u0627\u0644\u0628\u064A\u0627\u0646 "),t(),u(34,"th"),i(35," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u062C\u0632\u0626\u0649 "),t(),u(36,"th"),i(37," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A "),t()(),u(38,"tbody"),A(39,U,7,3,"tr",19),E(40,"tr"),t()()(),u(41,"div",20)(42,"p"),i(43," \u0627\u0644\u0645\u0639\u0637\u064A\u0627\u062A "),t(),u(44,"p"),i(45),t(),u(46,"p"),i(47),t(),u(48,"p"),i(49),t(),u(50,"p"),i(51),t(),u(52,"p"),i(53),t(),u(54,"p"),i(55),t(),u(56,"p"),i(57,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(58,"p"),i(59," \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),t(),u(60,"p"),i(61),t(),u(62,"p"),i(63),t(),u(64,"p"),i(65),t(),u(66,"p"),i(67),t(),u(68,"p"),i(69),t(),u(70,"p"),i(71),t(),u(72,"p"),i(73),t(),u(74,"p"),i(75,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(76,"p"),i(77," \u0627\u0644\u0645\u062E\u0632\u0648\u0646 "),t(),u(78,"p"),i(79),t(),u(80,"p"),i(81),t(),u(82,"p"),i(83),t(),u(84,"p"),i(85),t(),u(86,"p"),i(87,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(88,"p"),i(89,"----------------------------------------------------------------------------------------------------------------------------"),t(),u(90,"p"),i(91),t(),u(92,"p"),i(93),t(),u(94,"p"),i(95),t(),u(96,"p"),i(97),t(),u(98,"p"),i(99),t(),u(100,"p"),i(101),t(),u(102,"p"),i(103),t()()()()()()()}if(p&2){let c=y(14),f=y(21);n(6),a(" ",v(7,41,"IncomeStatement.IncomeStatement")," "),n(5),a(" ",v(12,43,"SupplierAccount.FromDate"),""),n(4),m("showClear",e.SearchModel.FromDate!=null&&e.SearchModel.FromDate!="")("appendTo",c)("showOtherMonths",!0),D("ngModel",e.SearchModel.FromDate),m("showTime",!0),n(3),a(" ",v(19,45,"SupplierAccount.ToDate"),""),n(4),m("showClear",e.SearchModel.ToDate!=null&&e.SearchModel.ToDate!="")("appendTo",f)("showOtherMonths",!0),D("ngModel",e.SearchModel.ToDate),m("showTime",!0),n(3),C(v(26,47,"Model.Search")),n(2),m("ngIf",e.NetProfitAfterVat>=0),n(),m("ngIf",e.NetProfitAfterVat<0),n(11),m("ngForOf",e.Arr),n(6),a(" \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.SalesAmount," "),n(2),a(" \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.ReturnSalesAmount," "),n(2),a(" \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.SalesAllowedAmount," "),n(2),a(" \u0627\u0644\u062E\u0635\u0645 \u0639\u0644\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.SalesDiscountAmount," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.NetSale," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647) => ",e.NetSale," "),n(6),a(" \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysAmount," "),n(2),a(" \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.ReturnBuysAmount," "),n(2),a(" \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysAllowedAmount," "),n(2),a(" \u0627\u0644\u062E\u0635\u0645 \u0639\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysDiscountAmount," "),n(2),a(" \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.BuysExpenses," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.NetBuy," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A = ( \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ) - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0643\u062A\u0633\u0628 ) => ",e.NetBuy,""),n(6),a(" \u0627\u0648\u0644 \u0627\u0644\u0645\u062F\u0629 => ",e.FirstPeriod," "),n(2),a(" \u062E\u0644\u0627\u0644 \u0627\u0644\u0645\u062F\u0629 => ",e.StorageBalance," "),n(2),a(" \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",e.LastSorageBalance," "),n(2),a(" \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0645\u062E\u0632\u0648\u0646 \u0627\u0648\u0644 + \u062E\u0644\u0627\u0644 - \u0628\u0636\u0627\u0639\u0629 \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",e.CostSaleInvetory," "),n(6),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647 ) => ",e.NetSale," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A = ( \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0635\u0631\u0648\u0641 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A ) - ( \u0645\u0631\u062F\u0648\u062F \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0645\u0633\u0645\u0648\u062D\u0627\u062A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A + \u0627\u0644\u062E\u0635\u0645 \u0627\u0644\u0645\u0643\u062A\u0633\u0628 ) => ",e.NetBuy,""),n(2),a(" \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A = \u0645\u062E\u0632\u0648\u0646 \u0627\u0648\u0644 + \u062E\u0644\u0627\u0644 - \u0628\u0636\u0627\u0639\u0629 \u0627\u062E\u0631 \u0627\u0644\u0645\u062F\u0629 => ",e.CostSaleInvetory," "),n(2),a(" \u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D = \u0635\u0627\u0641\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A => ",e.GrossProfit," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D + \u0627\u064A\u0631\u0627\u062F\u0627\u062A - \u0645\u0635\u0631\u0648\u0641\u0627\u062A => ",e.NetProfitBeforVat," "),n(2),a(" \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0639\u0644\u064A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A - \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0639\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A => ",e.VatAmount," "),n(2),a(" \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629 = \u0635\u0627\u0641\u064A \u0627\u0644\u0631\u0628\u062D \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 - \u0635\u0627\u0641\u064A \u0627\u0644\u0636\u0631\u064A\u0628\u0629 => ",e.NetProfitAfterVat," ")}},dependencies:[z,j,k,W,b,V,O,R,L,G]});let o=r;return o})();export{m0 as IncomeStatementComponent};
