import{c as et,j as it}from"./chunk-HX5JBV6V.js";import"./chunk-QI74C7BQ.js";import"./chunk-PWIKXZ6E.js";import{s as $}from"./chunk-S52O5BXQ.js";import{a as X,b as Z}from"./chunk-KOJPIKRQ.js";import"./chunk-WL6N6SLT.js";import{a as tt}from"./chunk-HOAF6CDP.js";import"./chunk-34JSETBR.js";import"./chunk-QFTVA365.js";import"./chunk-LNYZIAUP.js";import"./chunk-HYE6JRVA.js";import{d as z}from"./chunk-DVVEKPVL.js";import{b as J}from"./chunk-JCTIHYFX.js";import{b as F,c as W,f as j,h as L,k as G,m as Q,s as q,u as H}from"./chunk-M24M3PNC.js";import{c as K,d as Y}from"./chunk-4L6P5Z5M.js";import{e as P,j as k}from"./chunk-JM67XKKX.js";import{$b as I,Bb as n,Cb as i,Db as T,Hb as C,Lb as E,Mb as u,Sb as w,Tb as N,Ub as M,Vb as V,Wb as a,Xb as v,Yb as r,_b as g,ac as A,cb as t,cc as O,db as b,mc as s,na as R,nc as d,oc as U,pc as D,ub as y,wb as h,xa as f,ya as _}from"./chunk-VIO7ZK3G.js";import"./chunk-3EYC4JTX.js";var nt=["content"],at=["contentDeails"];function rt(p,S){if(p&1){let e=C();T(0,"app-modal-header",5),n(1,"div",6)(2,"div",7)(3,"div",8)(4,"label",9),a(5),s(6,"translate"),i(),n(7,"input",10),A("ngModelChange",function(o){f(e);let m=u();return I(m.ShifthForm.Name,o)||(m.ShifthForm.Name=o),_(o)}),i()(),n(8,"div",11)(9,"label",12),a(10),s(11,"translate"),i(),n(12,"div",13,2)(14,"p-calendar",14),A("ngModelChange",function(o){f(e);let m=u();return I(m.ShifthForm.StartDate,o)||(m.ShifthForm.StartDate=o),_(o)}),i()()(),n(15,"div",8)(16,"label",15),a(17),s(18,"translate"),i(),n(19,"input",16),A("ngModelChange",function(o){f(e);let m=u();return I(m.ShifthForm.StartCash,o)||(m.ShifthForm.StartCash=o),_(o)}),i()(),n(20,"div",8)(21,"label",17),a(22),s(23,"translate"),i(),n(24,"input",18),A("ngModelChange",function(o){f(e);let m=u();return I(m.ShifthForm.StartVisa,o)||(m.ShifthForm.StartVisa=o),_(o)}),i()()(),n(25,"div",19)(26,"button",20),E("click",function(){f(e);let o=u();return _(o.Send())}),a(27),s(28,"translate"),i(),n(29,"button",21),E("click",function(){let o=f(e).$implicit,m=u();return o.close("Close click"),_(m.ResetPage())}),a(30),s(31,"translate"),i()()()}if(p&2){let e=V(13),l=u();h("PageTitle","Shift.Shift"),t(5),v(d(6,15,"Table.Name")),t(2),g("ngModel",l.ShifthForm.Name),t(3),v(d(11,17,"Shift.StartDate")),t(4),h("showClear",l.ShifthForm.StartDate!="")("appendTo",e)("showOtherMonths",!0)("showTime",!0),g("ngModel",l.ShifthForm.StartDate),t(3),v(d(18,19,"Shift.StartCash")),t(2),g("ngModel",l.ShifthForm.StartCash),t(3),v(d(23,21,"Shift.StartVisa")),t(2),g("ngModel",l.ShifthForm.StartVisa),t(3),v(d(28,23,"Model.Send")),t(3),v(d(31,25,"Model.Close"))}}function ot(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.StartCash," ")}}function pt(p,S){if(p&1){let e=C();n(0,"input",40),A("ngModelChange",function(o){f(e);let m=u(2);return I(m.UpdateShift.StartCash,o)||(m.UpdateShift.StartCash=o),_(o)}),i()}if(p&2){let e=u(2);g("ngModel",e.UpdateShift.StartCash)}}function lt(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.EndCash," ")}}function st(p,S){if(p&1){let e=C();n(0,"input",40),A("ngModelChange",function(o){f(e);let m=u(2);return I(m.UpdateShift.EndCash,o)||(m.UpdateShift.EndCash=o),_(o)}),i()}if(p&2){let e=u(2);g("ngModel",e.UpdateShift.EndCash)}}function dt(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.StartVisa," ")}}function mt(p,S){if(p&1){let e=C();n(0,"input",40),A("ngModelChange",function(o){f(e);let m=u(2);return I(m.UpdateShift.StartVisa,o)||(m.UpdateShift.StartVisa=o),_(o)}),i()}if(p&2){let e=u(2);g("ngModel",e.UpdateShift.StartVisa)}}function ut(p,S){if(p&1&&(n(0,"span",25),a(1),i()),p&2){let e=u(2);t(),r(" ",e.UpdateShift.EndVisa," ")}}function St(p,S){if(p&1){let e=C();n(0,"input",40),A("ngModelChange",function(o){f(e);let m=u(2);return I(m.UpdateShift.EndVisa,o)||(m.UpdateShift.EndVisa=o),_(o)}),i()}if(p&2){let e=u(2);g("ngModel",e.UpdateShift.EndVisa)}}function ht(p,S){p&1&&(n(0,"span",41),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.UPCash")," "))}function ct(p,S){p&1&&(n(0,"span",42),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.DownCash")," "))}function ft(p,S){p&1&&(n(0,"span",41),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.UPVisa")," "))}function _t(p,S){p&1&&(n(0,"span",42),a(1),s(2,"translate"),i()),p&2&&(t(),r(" ",d(2,1,"Shift.DownVisa")," "))}function xt(p,S){if(p&1&&(n(0,"span")(1,"span",31),a(2),s(3,"date"),i()()),p&2){let e=u(2);t(2),r(" ",U(3,1,e.UpdateShift.CloseDate,"d-M-yyyy h:mm:ss a")," ")}}function Ct(p,S){if(p&1){let e=C();n(0,"div",13,2)(2,"p-calendar",14),A("ngModelChange",function(o){f(e);let m=u(2);return I(m.UpdateShift.CloseDate,o)||(m.UpdateShift.CloseDate=o),_(o)}),i()()}if(p&2){let e=V(1),l=u(2);t(2),h("showClear",l.UpdateShift.CloseDate!="")("appendTo",e)("showOtherMonths",!0)("showTime",!0),g("ngModel",l.UpdateShift.CloseDate)}}function vt(p,S){if(p&1){let e=C();n(0,"button",43),E("click",function(){f(e);let o=u(2);return _(o.Print())}),a(1),s(2,"translate"),i()}p&2&&(t(),v(d(2,1,"Model.Print")))}function yt(p,S){if(p&1){let e=C();n(0,"button",44),E("click",function(){f(e);let o=u(2);return _(o.Update())}),a(1),s(2,"translate"),i()}p&2&&(t(),v(d(2,1,"Model.Update")))}function gt(p,S){if(p&1){let e=C();n(0,"button",45),E("click",function(){f(e);let o=u(2);return _(o.CloseShift())}),a(1),s(2,"translate"),i()}p&2&&(t(),v(d(2,1,"Shift.CloseShift")))}function It(p,S){if(p&1){let e=C();T(0,"app-modal-header",5),n(1,"div",22)(2,"div",23)(3,"div",24)(4,"span",25),a(5),s(6,"translate"),i(),y(7,ot,2,1,"span",26)(8,pt,1,1,"input",27),i(),n(9,"div",24)(10,"span",25),a(11),s(12,"translate"),i(),y(13,lt,2,1,"span",26)(14,st,1,1,"input",27),i(),n(15,"div",24)(16,"span",25),a(17),s(18,"translate"),i(),n(19,"span",25),a(20),i()(),n(21,"div",24)(22,"span",25),a(23),s(24,"translate"),i(),y(25,dt,2,1,"span",26)(26,mt,1,1,"input",27),i(),n(27,"div",24)(28,"span",25),a(29),s(30,"translate"),i(),y(31,ut,2,1,"span",26)(32,St,1,1,"input",27),i(),n(33,"div",24)(34,"span",25),a(35),s(36,"translate"),i(),n(37,"span",25),a(38),i()(),n(39,"div",28),y(40,ht,3,3,"span",29)(41,ct,3,3,"span",30),n(42,"span",25),a(43),i()(),n(44,"div",28),y(45,ft,3,3,"span",29)(46,_t,3,3,"span",30),n(47,"span",25),a(48),i()(),n(49,"div",24)(50,"span",25),a(51),s(52,"translate"),i(),n(53,"span",31),a(54),s(55,"date"),i()(),n(56,"div",32)(57,"span",25),a(58),s(59,"translate"),i(),y(60,xt,4,4,"span",33)(61,Ct,3,5,"div",34),i()(),n(62,"div",24)(63,"span",25),a(64),s(65,"translate"),i(),n(66,"span",25),a(67),i()(),n(68,"div",24)(69,"span",25),a(70),s(71,"translate"),i(),n(72,"span",25),a(73),i()(),n(74,"div",24)(75,"span",25),a(76),s(77,"translate"),i(),n(78,"span",25),a(79),i()(),n(80,"div",24)(81,"span",25),a(82),s(83,"translate"),i(),n(84,"span",25),a(85),i()(),n(86,"div",24)(87,"span",25),a(88),s(89,"translate"),i(),n(90,"span",25),a(91),i()(),n(92,"div",24)(93,"span",25),a(94),s(95,"translate"),i(),n(96,"span",25),a(97),i()(),n(98,"div",24)(99,"span",25),a(100),s(101,"translate"),i(),n(102,"span",25),a(103),i()(),n(104,"div",24)(105,"span",25),a(106),s(107,"translate"),i(),n(108,"span",25),a(109),i()(),n(110,"div",24)(111,"span",25),a(112),s(113,"translate"),i(),n(114,"span",25),a(115),i()(),n(116,"div",24)(117,"span",25),a(118),s(119,"translate"),i(),n(120,"span",25),a(121),i()(),n(122,"div",24)(123,"span",25),a(124),s(125,"translate"),i(),n(126,"span",25),a(127),i()(),n(128,"div",24)(129,"span",25),a(130),s(131,"translate"),i(),n(132,"span",25),a(133),i()(),n(134,"div",24)(135,"span",25),a(136),s(137,"translate"),i(),n(138,"span",25),a(139),i()(),n(140,"div",24)(141,"span",25),a(142),s(143,"translate"),i(),n(144,"span",25),a(145),i()(),n(146,"div",24)(147,"span",25),a(148),s(149,"translate"),i(),n(150,"span",25),a(151),i()(),n(152,"div",24)(153,"span",25),a(154),s(155,"translate"),i(),n(156,"span",25),a(157),i()(),n(158,"div",24)(159,"span",25),a(160),s(161,"translate"),i(),n(162,"span",25),a(163),i()(),n(164,"div",24)(165,"span",25),a(166),s(167,"translate"),i(),n(168,"span",25),a(169),i()(),n(170,"div",24)(171,"span",25),a(172),s(173,"translate"),i(),n(174,"span",25),a(175),i()(),n(176,"div",24)(177,"span",25),a(178),s(179,"translate"),i(),n(180,"span",25),a(181),i()(),n(182,"div",24)(183,"span",25),a(184),s(185,"translate"),i(),n(186,"span",25),a(187),i()(),n(188,"div",24)(189,"span",25),a(190),s(191,"translate"),i(),n(192,"span",25),a(193),i()(),n(194,"div",24)(195,"span",25),a(196),s(197,"translate"),i(),n(198,"span",25),a(199),i()(),n(200,"div",24)(201,"span",25),a(202),s(203,"translate"),i(),n(204,"span",25),a(205),i()(),n(206,"div",24)(207,"span",25),a(208),s(209,"translate"),i(),n(210,"span",25),a(211),i()(),n(212,"div",24)(213,"span",25),a(214),s(215,"translate"),i(),n(216,"span",25),a(217),i()(),n(218,"div",24)(219,"span",25),a(220),s(221,"translate"),i(),n(222,"span",25),a(223),i()()(),n(224,"div",35),y(225,vt,3,3,"button",36)(226,yt,3,3,"button",37)(227,gt,3,3,"button",38),n(228,"button",39),E("click",function(){let o=f(e).$implicit;return _(o.close("Close click"))}),a(229),s(230,"translate"),i()()}if(p&2){let e=u();h("PageTitle","Shift.Shift"),t(5),r(" ",d(6,86,"Shift.StartCash")," "),t(2),h("ngIf",e.UpdateShift.IsOpen==!1),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(12,88,"Shift.EndCash")," "),t(2),h("ngIf",e.UpdateShift.IsOpen==!1),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(18,90,"Shift.NetCash")," "),t(3),r(" ",e.NetCash," "),t(3),r(" ",d(24,92,"Shift.StartVisa")," "),t(2),h("ngIf",e.UpdateShift.IsOpen==!1),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(30,94,"Shift.EndVisa")," "),t(2),h("ngIf",e.UpdateShift.IsOpen==!1),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(36,96,"Shift.NetVisa")," "),t(3),r(" ",e.NetVisa," "),t(2),h("ngIf",e.ConvertNumber(e.UpdateShift.EndCash)>=e.NetCash),t(),h("ngIf",e.ConvertNumber(e.UpdateShift.EndCash)<e.NetCash),t(2),r(" ",e.ConvertNumber(e.UpdateShift.EndCash)-e.NetCash," "),t(2),h("ngIf",e.ConvertNumber(e.UpdateShift.EndVisa)>=e.NetVisa),t(),h("ngIf",e.ConvertNumber(e.UpdateShift.EndVisa)<e.NetVisa),t(2),r(" ",e.ConvertNumber(e.UpdateShift.EndVisa)-e.NetVisa," "),t(3),r(" ",d(52,98,"Shift.StartDate")," "),t(3),r(" ",U(55,100,e.UpdateShift.StartDate,"d-M-yyyy h:mm:ss a")," "),t(4),r(" ",d(59,103,"Shift.CloseDate")," "),t(2),h("ngIf",e.UpdateShift.IsOpen==!1),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(3),r(" ",d(65,105,"Shift.SaleAmount")," "),t(3),r(" ",e.UpdateShift.SaleAmount," "),t(3),r(" ",d(71,107,"Shift.SaleCashAmount")," "),t(3),r(" ",e.UpdateShift.SaleCashAmount," "),t(3),r(" ",d(77,109,"Shift.SaleVisaAmount")," "),t(3),r(" ",e.UpdateShift.SaleVisaAmount," "),t(3),r(" ",d(83,111,"Shift.SaleDebtAmount")," "),t(3),r(" ",e.UpdateShift.SaleDebtAmount," "),t(3),r(" ",d(89,113,"Shift.SaleDeliveryAmount")," "),t(3),r(" ",e.UpdateShift.SaleDeliveryAmount," "),t(3),r(" ",d(95,115,"Shift.BuyAmount")," "),t(3),r(" ",e.UpdateShift.BuyAmount," "),t(3),r(" ",d(101,117,"Shift.BuyVisaAmount")," "),t(3),r(" ",e.UpdateShift.BuyVisaAmount," "),t(3),r(" ",d(107,119,"Shift.BuyCashAmount")," "),t(3),r(" ",e.UpdateShift.BuyCashAmount," "),t(3),r(" ",d(113,121,"Shift.BuyDebtAmount")," "),t(3),r(" ",e.UpdateShift.BuyDebtAmount," "),t(3),r(" ",d(119,123,"Shift.ReturnBuyAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyAmount," "),t(3),r(" ",d(125,125,"Shift.ReturnBuyVisaAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyVisaAmount," "),t(3),r(" ",d(131,127,"Shift.ReturnBuyCashAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyCashAmount," "),t(3),r(" ",d(137,129,"Shift.ReturnBuyDebtAmount")," "),t(3),r(" ",e.UpdateShift.ReturnBuyDebtAmount," "),t(3),r(" ",d(143,131,"Shift.ReturnSaleAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleAmount," "),t(3),r(" ",d(149,133,"Shift.ReturnSaleVisaAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleVisaAmount," "),t(3),r(" ",d(155,135,"Shift.ReturnSaleCashAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleCashAmount," "),t(3),r(" ",d(161,137,"Shift.ReturnSaleDebtAmount")," "),t(3),r(" ",e.UpdateShift.ReturnSaleDebtAmount," "),t(3),r(" ",d(167,139,"Shift.TreasuryInCashAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryInCashAmount," "),t(3),r(" ",d(173,141,"Shift.TreasuryInVisaAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryInVisaAmount," "),t(3),r(" ",d(179,143,"Shift.TreasuryOutCashAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryOutCashAmount," "),t(3),r(" ",d(185,145,"Shift.TreasuryOutVisaAmount")," "),t(3),r(" ",e.UpdateShift.TreasuryOutVisaAmount," "),t(3),r(" ",d(191,147,"Shift.SalesNo")," "),t(3),r(" ",e.UpdateShift.SaleInvoiceNo," "),t(3),r(" ",d(197,149,"Shift.BuyNo")," "),t(3),r(" ",e.UpdateShift.BuyInvoiceNo," "),t(3),r(" ",d(203,151,"Shift.ReturnBuyNo")," "),t(3),r(" ",e.UpdateShift.ReturnBuyInvoiceNo," "),t(3),r(" ",d(209,153,"Shift.ReturnSaleNo")," "),t(3),r(" ",e.UpdateShift.ReturnSaleInvoiceNo," "),t(3),r(" ",d(215,155,"Shift.TreasueyInNo")," "),t(3),r(" ",e.UpdateShift.TreasuryInNo," "),t(3),r(" ",d(221,157,"Shift.TreasueyOutNo")," "),t(3),r(" ",e.UpdateShift.TreasuryOutNo," "),t(2),h("ngIf",e.UpdateShift.IsOpen==!1),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(),h("ngIf",e.UpdateShift.IsOpen==!0),t(2),v(d(230,159,"Model.Close"))}}var Wt=(()=>{let S=class S{constructor(l,o,m){this._SharedObjectModelService=l,this._AppModeService=o,this._Apiservice=m,this.SubscriptionArr=[],this.TablePaging={InputType:"Table",Type:"TablePaging",GlobalData:{Url:"Global/GetAll",TableName:"Shifts",BranchFilter:!0,Columns:["Id","Name","StartDate","CloseDate","IsOpen","StartCash"]},Required:!1,TableCell:[{SortName:"Name",CellName:"Table.Name"},{SortName:"StartCash",CellName:"Shift.StartCash"},{SortName:"StartDate",CellName:"Shift.StartDate",CellDateTime:!0},{SortName:"CloseDate",CellName:"Shift.CloseDate",CellDateTime:!0},{SortName:"IsOpen",CellName:"Shift.IsOpen",DataBoolean:!0}]},this.NetCash=0,this.NetVisa=0,this.ShifthForm={IsOpen:!1,StartCash:"",EndCash:0,StartVisa:"",EndVisa:0,StartDate:"",CloseDate:null,TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,Id:0,Name:"",Code:"",TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",StartVisa:"",EndVisa:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnInit(){}ConvertNumber(l){return Number(l)}ShowToEdite(){this._AppModeService._NgbModal.dismissAll(),this._AppModeService._NgbModal.open(this.ContentDeailsModel,{size:"xl",backdrop:"static"}),this.Drow()}Drow(){let l=this._SharedObjectModelService.PageModel;this.UpdateShift=l,this.NetCash=l.NetCash,this.NetVisa=l.NetVisa,this.UpdateShift.IsOpen==!0&&(this.UpdateShift.CloseDate="")}Send(){if(this.ShifthForm.Name.trim()==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.Name"));return}if(this.ShifthForm.StartDate==null){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.StartDate"));return}if(Number(this.ShifthForm.StartCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartCash"));return}if(Number(this.ShifthForm.StartVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterStartVisa"));return}let l={},o=Object.keys(this.ShifthForm),m=Object.values(this.ShifthForm);for(let c=0;c<o.length;c++)l[`${o[c]}`]=m[c];l.StartDate=this._Apiservice.ConvertISODate(this.ShifthForm.StartDate),l.StartCash=Number(this.ShifthForm.StartCash),l.StartVisa=Number(this.ShifthForm.StartVisa),l.EndVisa=0,l.EndCash=0,l.Id=0,l.CloseDate=null;let x=this._Apiservice.post("ShiftEP/Add",l,!0).subscribe({next:c=>{c.IsSuccess==!0&&c.Obj!=null?(this._AppModeService._Toastr.success(c.Message),this.ResetPage(),this._SharedObjectModelService.Paging.DataReturn.push(c.Obj)):this._AppModeService._Toastr.error(c.Message)}});this.SubscriptionArr.push(x)}Update(){let l={Id:this.UpdateShift.Id,StartCash:this.UpdateShift.StartCash,StartVisa:this.UpdateShift.StartVisa},o=this._Apiservice.put("ShiftEP/Update",l,!0).subscribe({next:m=>{if(m.IsSuccess==!0&&m.Obj!=null){this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let x=m.Obj,c=this._SharedObjectModelService.Paging.DataReturn.find(B=>B.Id==x.Id);c!=null&&Object.assign(c,x)}else this._AppModeService._Toastr.error(m.Message)}});this.SubscriptionArr.push(o)}CloseShift(){if(this.UpdateShift.CloseDate==null||this.UpdateShift.CloseDate==""){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.CloseDate"));return}if(Number(this.ShifthForm.EndCash)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndCash"));return}if(Number(this.ShifthForm.EndVisa)<0){this._AppModeService._Toastr.error(this._AppModeService._Translate.instant("Shift.Error.EnterEndVisa"));return}let l={Id:this.UpdateShift.Id,CloseDate:this._Apiservice.ConvertISODate(this.UpdateShift.CloseDate),EndCash:this.UpdateShift.EndCash,EndVisa:this.UpdateShift.EndVisa},o=this._Apiservice.post("ShiftEP/Close",l,!0).subscribe({next:m=>{if(m.IsSuccess==!0&&m.Obj!=null){this._AppModeService._NgbModal.dismissAll(),this.ResetPage();let x=m.Obj,c=this._SharedObjectModelService.Paging.DataReturn.find(B=>B.Id==x.Id);c!=null&&Object.assign(c,x)}else this._AppModeService._Toastr.error(m.Message)}});this.SubscriptionArr.push(o)}Print(){window.open(`${F.UseHash==!0?"/#":""} /InvoiceReport?Name=ShiftReport&Id=${this.UpdateShift.Id}`,"_blank","width=700, height=700")}ResetPage(){this.ShifthForm={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0},this.UpdateShift={IsOpen:!1,StartDate:"",CloseDate:"",StartCash:"",EndCash:"",Id:0,Name:"",Notes:"",Code:"",TreasuryInCashAmount:0,TreasuryOutCashAmount:0,TreasuryInVisaAmount:0,TreasuryOutVisaAmount:0,SaleAmount:0,BuyAmount:0,ReturnSaleAmount:0,ReturnBuyAmount:0,TreasuryInNo:0,TreasuryOutNo:0,BuyInvoiceNo:0,SaleInvoiceNo:0,ReturnBuyInvoiceNo:0,ReturnSaleInvoiceNo:0,StartVisa:"",EndVisa:"",SaleCashAmount:0,SaleVisaAmount:0,SaleDebtAmount:0,BuyCashAmount:0,BuyVisaAmount:0,BuyDebtAmount:0,ReturnSaleVisaAmount:0,ReturnSaleCashAmount:0,ReturnSaleDebtAmount:0,ReturnBuyVisaAmount:0,ReturnBuyCashAmount:0,ReturnBuyDebtAmount:0,SaleDeliveryAmount:0}}ngOnDestroy(){for(let l=0;l<this.SubscriptionArr.length;l++)this.SubscriptionArr[l].unsubscribe()}};S.\u0275fac=function(o){return new(o||S)(b(tt),b(J),b(W))},S.\u0275cmp=R({type:S,selectors:[["app-shift"]],viewQuery:function(o,m){if(o&1&&(w(nt,5),w(at,5)),o&2){let x;N(x=M())&&(m.ContentModel=x.first),N(x=M())&&(m.ContentDeailsModel=x.first)}},standalone:!0,features:[O],decls:5,vars:7,consts:[["content",""],["contentDeails",""],["ddddd",""],[3,"ShowToEditeEvent","PageTitle","TablePaging","AddUrl","GetById","UpdateUrl","DeleteUrl","OutModal"],[1,"col-12"],[3,"PageTitle"],[1,"modal-body","p-0","m-0"],[1,"d-flex","align-items-end","flex-wrap","mb-3"],[1,"col-12","col-md-4","col-lg-2","px-2"],["for","Name"],["type","text","id","Name",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[1,"col-12","col-md-4","col-lg-3","px-2"],["for","StartDate"],[1,"formdate"],["placeholder","D-M-Y","dateFormat","dd-mm-yy","hourFormat","12",1,"shadow-none","text-center","w-100",3,"ngModelChange","showClear","appendTo","showOtherMonths","showTime","ngModel"],["for","StartCash"],["min","0","type","number","id","StartCash",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],["for","StartVisa"],["min","0","type","number","id","StartVisa",1,"form-control","shadow-none","text-center",3,"ngModelChange","ngModel"],[1,"modal-footer","bg-white","w-100","py-2","px-4","m-0"],[1,"btn","btn-success","py-3","px-5",3,"click"],["type","button",1,"btn","btn-secondary","py-3","px-5",3,"click"],[1,"modal-body","text-center","row"],[1,"col-12","row"],[1,"col-12","col-md-2"],[1,"my-1","d-block"],["class","my-1 d-block",4,"ngIf"],["class","form-control text-center",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-12","col-md-2","text-center","px-2"],["class","my-1 d-block text-success",4,"ngIf"],["class","my-1 d-block text-danger",4,"ngIf"],[1,"d-block"],[1,"col-12","col-md-2","px-0"],[4,"ngIf"],["class","formdate",4,"ngIf"],[1,"modal-footer","bg-white","w-100"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",3,"click"],[1,"form-control","text-center",3,"ngModelChange","ngModel"],[1,"my-1","d-block","text-success"],[1,"my-1","d-block","text-danger"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(o,m){if(o&1){let x=C();n(0,"app-dynamic-component",3),E("ShowToEditeEvent",function(){return f(x),_(m.ShowToEdite())}),i(),y(1,rt,32,27,"ng-template",4,0,D)(3,It,231,161,"ng-template",4,1,D)}if(o&2){let x=V(2);h("PageTitle","Shift.Shift")("TablePaging",m.TablePaging)("AddUrl","ShiftEP/Add")("GetById","ShiftEP/GetById")("UpdateUrl","ShiftEP/Update")("DeleteUrl","ShiftEP/Delete")("OutModal",x)}},dependencies:[$,Y,K,H,j,Q,L,q,G,z,P,Z,X,k,it,et]});let p=S;return p})();export{Wt as ShiftComponent};
